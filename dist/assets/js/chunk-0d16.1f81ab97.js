(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0d16"],{"0bed":function(e,t,s){"use strict";var n=s("e836"),a=s.n(n);a.a},"28a5":function(e,t,s){s("214f")("split",2,function(e,t,n){"use strict";var a=s("aae3"),i=n,o=[].push,r="split",c="length",l="lastIndex";if("c"=="abbc"[r](/(b)*/)[1]||4!="test"[r](/(?:)/,-1)[c]||2!="ab"[r](/(?:ab)*/)[c]||4!="."[r](/(.?)(.?)/)[c]||"."[r](/()()/)[c]>1||""[r](/.?/)[c]){var u=void 0===/()??/.exec("")[1];n=function(e,t){var s=String(this);if(void 0===e&&0===t)return[];if(!a(e))return i.call(s,e,t);var n,r,m,p,h,d=[],f=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),v=0,w=void 0===t?4294967295:t>>>0,g=new RegExp(e.source,f+"g");u||(n=new RegExp("^"+g.source+"$(?!\\s)",f));while(r=g.exec(s)){if(m=r.index+r[0][c],m>v&&(d.push(s.slice(v,r.index)),!u&&r[c]>1&&r[0].replace(n,function(){for(h=1;h<arguments[c]-2;h++)void 0===arguments[h]&&(r[h]=void 0)}),r[c]>1&&r.index<s[c]&&o.apply(d,r.slice(1)),p=r[0][c],v=m,d[c]>=w))break;g[l]===r.index&&g[l]++}return v===s[c]?!p&&g.test("")||d.push(""):d.push(s.slice(v)),d[c]>w?d.slice(0,w):d}}else"0"[r](void 0,0)[c]&&(n=function(e,t){return void 0===e&&0===t?[]:i.call(this,e,t)});return[function(s,a){var i=e(this),o=void 0==s?void 0:s[t];return void 0!==o?o.call(s,i,a):n.call(String(i),s,a)},n]})},"92cf":function(e,t,s){"use strict";var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.paperItem?s("div",{staticClass:"router-view-content"},[s("h3",{staticClass:"text-center"},[e._v(e._s(e.paperItem.name))]),s("hr"),s("el-row",{staticClass:"mard10"},[s("el-col",{attrs:{span:8}},[s("div",[e._v("答题时间："+e._s(e.paperItem.exam_time)+"分钟")])]),s("el-col",{attrs:{span:8}},[s("div",[e._v("总分："+e._s(e.paperItem.score)+"分")])]),s("el-col",{attrs:{span:8}},[s("div",[e._v("剩余时间："+e._s(e.countDownTime))])]),e.paperItem.description?s("el-col",{staticClass:"mart10 marb10",attrs:{span:24}},[s("el-alert",{attrs:{closable:!1,title:e.paperItem.description,type:"info"}})],1):e._e(),s("el-col",{staticClass:"text-right mart10",attrs:{span:24}},[e.isStartAnswerQuestion?e._e():s("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.startAnswer}},[e._v("开始答题")]),e.isStartAnswerQuestion?s("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.advanceSubmit}},[e._v("提前交卷")]):e._e()],1)],1),e.questionItem?s("el-card",{staticClass:"questions-content",attrs:{shadow:"never"}},[s("el-row",{staticClass:"mard10"},[s("el-col",{staticClass:"div-flex",attrs:{span:18}},[s("div",[e._v(e._s(e.questionIndex+1)+"、"+e._s(e.questionItem.question)+"（"+e._s(e.questionItem.score)+"分）")])]),s("el-col",{staticClass:"text-right question-type",attrs:{span:4}},[e._v("\n        "+e._s(e.numMatchingText(e.questionItem.type))+"\n      ")]),s("el-col",{attrs:{span:24}},[e._l(e.questionItem.options,function(t,n){return s("div",{directives:[{name:"show",rawName:"v-show",value:!t.isDelete,expression:"!itemOption.isDelete"}],key:n,staticClass:"div-flex mart10 flex-align-items",staticStyle:{"margin-left":"10px"}},[s("el-radio",{directives:[{name:"show",rawName:"v-show",value:1==e.questionItem.type||3==e.questionItem.type,expression:"questionItem.type == 1 || questionItem.type == 3"}],staticClass:"marl5",attrs:{label:"true"},on:{change:function(t){e.changeRadioRightKey(e.questionItem,n)}},model:{value:t.answer,callback:function(s){e.$set(t,"answer",s)},expression:"itemOption.answer"}},[e._v("选项"+e._s(n+1)+"："+e._s(t.name))]),s("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:2==e.questionItem.type,expression:"questionItem.type == 2"}],staticClass:"marl5",attrs:{"true-label":"true","false-label":"false"},model:{value:t.answer,callback:function(s){e.$set(t,"answer",s)},expression:"itemOption.answer"}},[e._v("选项"+e._s(n+1)+"："+e._s(t.name))])],1)}),s("div",{staticClass:"mart10 marb10"},[4==e.questionItem.type?s("el-input",{attrs:{rows:10,type:"textarea"},model:{value:e.questionItem.textAnswer,callback:function(t){e.$set(e.questionItem,"textAnswer",t)},expression:"questionItem.textAnswer"}}):e._e()],1)],2)],1),s("div",{staticClass:"text-right mart10"},[s("el-button",{directives:[{name:"show",rawName:"v-show",value:e.questionIndex>0,expression:"questionIndex > 0"}],attrs:{type:"primary"},on:{click:function(t){e.questionIndex--,e.getQueryQuestionDetail(e.questionIndex)}}},[e._v("上一题")]),s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.saveAnswer()}}},[e._v("确定")]),s("el-button",{directives:[{name:"show",rawName:"v-show",value:e.questionIndex+1<e.questionIdList.length,expression:" (questionIndex + 1) < questionIdList.length "}],attrs:{type:"primary"},on:{click:function(t){e.questionIndex++,e.getQueryQuestionDetail(e.questionIndex)}}},[e._v("下一题")])],1)],1):e._e(),s("el-card",[s("p",{staticClass:"mar10"},[s("i",{staticClass:"color-box blue"}),e._v("为未打题，\n      "),s("i",{staticClass:"color-box orange"}),e._v("为已答题\n    ")]),e._l(e.questionIdList,function(t,n){return s("el-button",{key:n,staticClass:"question-btn",attrs:{type:t.answer_id?"warning":"primary",disabled:e.questionIdList[e.questionIndex].question_id==t.question_id},on:{click:function(t){e.questionIndex=n,e.getQueryQuestionDetail(e.questionIndex)}}},[e._v("第"+e._s(n+1)+"题")])})],2)],1):e._e()},a=[],i=(s("28a5"),s("ac6a"),{props:["paperId","taskId"],data:function(){return{paperItem:null,questionItem:null,solutionId:null,questionIdList:[],countDownTime:0,questionIndex:0,isStartAnswerQuestion:!1,setIntervalTemp:null}},mounted:function(){this.getQueryTaskDetail()},methods:{getQueryTaskDetail:function(){var e=this;this.axios.get("".concat(this.common.basePath,"/paper/simple/").concat(this.paperId,"?taskId=").concat(this.taskId),"").then(function(t){e.paperItem=t.data.data}).catch(function(t){e.$message.error(t)})},changeRadioRightKey:function(e,t){e.options.forEach(function(e,s){e.answer=s!=t?"false":"true"})},numMatchingText:function(e){switch(e){case 1:return this.questionTypeText="单选题";case 2:return this.questionTypeText="多选题";case 3:return this.questionTypeText="判断题";case 4:return this.questionTypeText="简答题"}},startAnswer:function(){var e=this;this.$confirm("确认开始答题？","提示",{confirmButtonText:"答题",cancelButtonText:"不答题",type:"warning"}).then(function(){e._startAnswer()}).catch(function(){})},_startAnswer:function(){var e=this;this.axios.get("".concat(this.common.basePath,"/answer/start/").concat(this.taskId),"").then(function(t){e.$emit("isPaperDialogShowClose",!1),e.solutionId=t.data.data,e.getQueryQuestionIdListData(),e._countDownTime(),e.isStartAnswerQuestion=!0}).catch(function(t){e.$message.error(t)})},getQueryQuestionIdListData:function(){var e=this;this.axios.get("".concat(this.common.basePath,"/question/paper/").concat(this.paperId,"/").concat(this.solutionId),"").then(function(t){e.questionIdList=t.data.data,e.getQueryQuestionDetail(e.questionIndex)}).catch(function(t){e.$message.error(t)})},getQueryQuestionDetail:function(e){var t=this;this.axios.get("".concat(this.common.basePath,"/question/detail/").concat(this.solutionId),{params:{questionId:this.questionIdList[e].question_id}}).then(function(e){t._convertAnswer(e.data.data)}).catch(function(e){t.$message.error(e)})},_convertAnswer:function(e){if(4==e.type)e.answer&&(e.textAnswer=e.answer.answer);else{var t=[];e.answer&&e.answer.answer&&(t=e.answer.answer.split(",")),e.options.forEach(function(e){t.forEach(function(t){e.id==t&&(e.answer="true")})})}this.questionItem=e},_countDownTime:function(){var e=this;this.setIntervalTemp&&clearInterval(this.setIntervalTemp);var t=60*parseInt(this.paperItem.exam_time);this.countDownTime="".concat(parseInt(t/60),"分"),this.setIntervalTemp=setInterval(function(){t--,e.countDownTime="".concat(parseInt(t/60),"分").concat(t-60*parseInt(t/60),"秒"),t<=0&&(clearInterval(e.setIntervalTemp),e.$alert("考试时间结束，点击确认按钮，退出此页面！！！！","提示",{confirmButtonText:"确定",callback:function(t){e._submitPaper(),e.$emit("closePaperDialog")}}))},1e3)},saveAnswer:function(){var e=this;this.axios.post("".concat(this.common.basePath,"/answer"),this._saveAnswerParams()).then(function(t){e.questionIndex+1<e.questionIdList.length?e.questionIndex++:e.$message("已答完最后一题！！！"),e.getQueryQuestionIdListData()}).catch(function(t){e.$message.error(t)})},_saveAnswerParams:function(){var e="";return 4==this.questionItem.type?e=this.questionItem.textAnswer:(this.questionItem.options.forEach(function(t){"true"==t.answer&&(e+=t.id+",")}),e=e.substring(0,e.length-1)),{solution_id:this.solutionId,question_id:this.questionItem.id,answer:e,id:this.questionItem.answer?this.questionItem.answer.id:null}},advanceSubmit:function(e){var t=this;clearInterval(this.setIntervalTemp),e&&this.$confirm("提前交卷，将不能再答题，确定吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t._submitPaper()}).catch(function(){})},_submitPaper:function(){var e=this;this.axios.get("".concat(this.common.basePath,"/answer/complete/").concat(this.solutionId),"").then(function(t){e.$emit("closePaperDialog")}).catch(function(t){e.$message.error(t)})}}}),o=i,r=(s("0bed"),s("2877")),c=Object(r["a"])(o,n,a,!1,null,null,null);c.options.__file="ExercisesRespondence.vue";t["a"]=c.exports},9454:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"contentWrap",staticClass:"content-wrap-box"},[s("el-card",{staticClass:"title-card"},[s("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[s("el-breadcrumb-item",[e._v("实验习题")])],1)],1),s("div",{ref:"contentWrap",staticClass:"router-view-wrap"},[s("div",{staticClass:"router-view-content"},[s("el-form",{ref:"searchForm",attrs:{model:e.searchForm,inline:!0,"label-width":"120px"}},[s("el-form-item",{attrs:{label:"实验课程：",prop:"course_id"}},[s("el-select",{on:{change:e.courseChange},model:{value:e.searchForm.course_id,callback:function(t){e.$set(e.searchForm,"course_id",t)},expression:"searchForm.course_id"}},e._l(e.courseListData.rows,function(e,t){return s("el-option",{key:t,attrs:{value:e.id,label:e.name}})}))],1),s("el-form-item",{attrs:{label:"实验名称：",prop:"experiment_id"}},[s("el-select",{model:{value:e.searchForm.experiment_id,callback:function(t){e.$set(e.searchForm,"experiment_id",t)},expression:"searchForm.experiment_id"}},e._l(e.experimentListData.rows,function(e,t){return s("el-option",{key:t,attrs:{value:e.id,label:e.name}})}))],1),s("el-form-item",{staticStyle:{display:"none"},attrs:{label:"状态：",prop:"reportStatus"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.searchForm.reportStatus,callback:function(t){e.$set(e.searchForm,"reportStatus",t)},expression:"searchForm.reportStatus"}},e._l(e.statusOptions,function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),s("el-form-item",[s("el-button",{attrs:{disabled:!e.common.checkAuthority("ExperimentalExercises_QueryList",!0),type:"primary"},on:{click:function(t){e.getQueryList()}}},[e._v("\n            "+e._s(e.common.checkAuthority("ExperimentalExercises_QueryList")?e.common.checkAuthority("ExperimentalExercises_QueryList").name:"")+"\n          ")]),s("el-button",{attrs:{type:"primary"},on:{click:e.resetSearchForm}},[e._v("置空")])],1)],1),s("el-table",{attrs:{data:e.listData.rows,"tooltip-effect":"dark"}},[s("el-table-column",{attrs:{label:"习题名称",prop:"name"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.row.name))])]}}])}),s("el-table-column",{attrs:{width:"150px",prop:"user_name",label:"截止时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e.common._convertDate(t.row.end_time,"yyyy年MM月dd日"))+"\n          ")]}}])}),s("el-table-column",{attrs:{width:"150px",prop:"sex",label:"状态","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e.reportStatus(t.row.solution_status))+"\n          ")]}}])}),s("el-table-column",{attrs:{width:"150px",prop:"solution_score",label:"得分","show-overflow-tooltip":""}}),s("el-table-column",{attrs:{label:"操作",width:"80px","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",[1==t.row.solution_status?s("el-button",{attrs:{disabled:!e.common.checkAuthority("ExperimentalExercises_Answer",!0),type:"primary",size:"mini"},on:{click:function(s){e.showPaper(t.row)}}},[e._v("\n                "+e._s(e.common.checkAuthority("ExperimentalExercises_Answer")?e.common.checkAuthority("ExperimentalExercises_Answer").name:"")+"\n              ")]):e._e()],1)]}}])})],1),s("div",{staticClass:"router-view-bottom mart10"},[s("div"),s("el-pagination",{staticClass:"fr ",attrs:{disabled:!e.common.checkAuthority("ExerciseScore_QueryList",!0),background:"","current-page":e.common.elementPagination.pageNum,"page-sizes":e.common.elementPagination.pageSizes,"page-size":e.common.elementPagination.pageSizeDefault,layout:"total, sizes, prev, pager, next",total:e.listData.total},on:{"size-change":function(t){e.handleSizeChange(t)},"current-change":function(t){e.handleCurrentChange(t)}}})],1)],1)]),s("el-dialog",{attrs:{width:"70vw",title:"开始答题",closeOnClickModal:!1,showClose:e.isPaperDialogShowClose,visible:e.paperDialog},on:{"update:visible":function(t){e.paperDialog=t}}},[e.activeAnswerItem?s("exercises-respondence",{attrs:{paperId:e.activeAnswerItem.associated_object,taskId:e.activeAnswerItem.id},on:{isPaperDialogShowClose:e.isPaperDialogShowCloseFun,closePaperDialog:e.closePaperDialogFun}}):e._e(),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.paperDialog=!1}}},[e._v("取 消")])],1)],1)],1)},a=[],i=s("92cf"),o={data:function(){return{scrollLoadSw:!0,paperDialog:!1,isPaperDialogShowClose:!0,dateTE:null,searchForm:{course_id:null,experiment_id:null,reportStatus:1,pageNum:this.common.elementPagination.pageNumDefault,pageSize:this.common.elementPagination.pageSizeDefault,student_id:sessionStorage.getItem("Access-Key")},statusOptions:[{label:"未完成",value:1},{label:"已完成",value:2},{label:"未打分",value:3}],listData:{total:0,rows:[]},courseListData:{total:0,rows:[]},experimentListData:{total:0,rows:[]},activeCourseId:null,activeAnswerItem:null}},watch:{},created:function(){},components:{"exercises-respondence":i["a"]},mounted:function(){this.getQueryList(),this.getQueryCourseList()},methods:{reportStatus:function(e){if(e)switch(e){case 1:return"未完成";case 2:return"已完成";case 3:return"未打分"}},getQueryList:function(){var e=this;this.axios.get("".concat(this.common.basePath,"/task/student/test"),{params:this.searchForm}).then(function(t){e.listData=t.data.data}).catch(function(t){e.$message.error(t)})},getQueryCourseList:function(){var e=this;this.axios.get("".concat(this.common.basePath,"/course"),"").then(function(t){e.courseListData=t.data.data}).catch(function(t){e.$message.error(t)})},resetSearchForm:function(){this.$refs.searchForm&&this.$refs.searchForm.resetFields()},getQueryExperimentList:function(e){var t=this;this.axios.get("".concat(this.common.basePath,"/experiment"),{params:{course_id:e}}).then(function(e){t.experimentListData=e.data.data}).catch(function(e){t.$message.error(e)})},courseChange:function(e){this.searchForm.experiment_id=null,this.getQueryExperimentList(e)},handleCurrentChange:function(e){this.searchForm.pageNum=e,this.getQueryList()},handleSizeChange:function(e){this.searchForm.pageSize=e,this.getQueryList()},closePaperDialogFun:function(){this.paperDialog=!1,this.getQueryList()},isPaperDialogShowCloseFun:function(e){this.isPaperDialogShowClose=e,this.getQueryList()},showPaper:function(e){this.paperDialog=!0,this.activeAnswerItem=e},goToDetail:function(e){this.$message("查看详情，待开发")}}},r=o,c=(s("ace9"),s("2877")),l=Object(c["a"])(r,n,a,!1,null,null,null);l.options.__file="ExperimentalExercises.vue";t["default"]=l.exports},ace9:function(e,t,s){"use strict";var n=s("faac"),a=s.n(n);a.a},e836:function(e,t,s){},faac:function(e,t,s){}}]);
//# sourceMappingURL=chunk-0d16.1f81ab97.js.map