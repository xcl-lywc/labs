(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4b06"],{"2c10":function(t,e,a){t.exports=a.p+"3d67e55b7809db68865615e9f5cb6fc7.png"},"3ad9":function(t,e,a){"use strict";var n=a("50d3"),i=a.n(n);i.a},"3bdd":function(t,e,a){"use strict";var n=a("f9da"),i=a.n(n);i.a},"4ffd":function(t,e,a){t.exports=a.p+"be5a047808b8458df214268b063dde8a.png"},"50d3":function(t,e,a){},7277:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dashboard"},[n("header",[n("img",{staticClass:"home-logo",attrs:{src:a("4ffd")}}),n("h1",{staticClass:"home-title text-center"},[t._v("通信与信息系统实验中心")]),n("el-button",{staticClass:"home-button-group",attrs:{type:"default",size:"mini"},on:{click:t.enterBackStage}},[n("span",[t._v("进入后台")])]),n("img",{staticClass:"fill-width",attrs:{src:a("2c10")}})],1),n("nav",{staticClass:"nav-top"},[n("el-menu",{attrs:{id:"dashboard-nav","default-active":t.navActive,mode:"horizontal","background-color":"transparent","text-color":"#fff","active-text-color":"#ffd04b"},on:{select:t.chooseNav}},[n("el-menu-item",{attrs:{index:"home"}},[t._v("首页")]),t._l(t.navData,function(e,a){return n("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:t.navData.length>0,expression:"navData.length > 0"}],key:"导航"+a,attrs:{index:""+e.id}},[t._v(t._s(e.name))])})],2)],1),"home"==t.navActive?n("div",{staticClass:"home-page"},[n("el-row",{attrs:{gutter:10}},[n("el-col",{staticClass:"no-padding-left",attrs:{span:18}},[t.carouselData.length&&t.carouselData.length>0?n("el-carousel",{attrs:{interval:4e3,height:"300px"}},t._l(t.carouselData,function(e){return n("el-carousel-item",{key:e.img},[n("img",{staticClass:"carousel-img hover-cursor",attrs:{src:e.img},on:{click:function(a){t.goToLink(e)}}}),n("p",{staticClass:"link hover-cursor",attrs:{title:e.label},on:{click:function(a){t.goToLink(e)}}},[t._v(t._s(e.label))])])})):n("p",{staticClass:"text-center text-info"},[t._v(" 请至后台 > 设置 > 门户页面 中添加")])],1),n("el-col",{attrs:{span:6}},[n("h3",{staticClass:"home-page-title"},[n("span",[t._v("Events")])]),t.carouselEventData.length&&t.carouselEventData.length>0?n("ul",{staticClass:"left-ul max-height"},t._l(t.carouselEventData,function(e,a){return n("li",{key:"events"+a,staticClass:"text-left",attrs:{title:e.label},on:{click:function(a){t.goToLink(e)}}},[t._v(t._s(e.label))])})):n("p",{staticClass:"text-center text-info"},[t._v(" 请至后台 > 设置 > 门户页面 中添加")])])],1),n("el-row",{attrs:{gutter:10}},[n("el-col",{attrs:{span:18}},t._l(t.anchorPointList,function(e,a){return n("div",{key:a+"段落"},[n("h4",{staticClass:"home-page-title"},[n("a",{attrs:{name:""+a}},[t._v(t._s(e.label))])]),n("p",{staticClass:"padl10 text-indent"},[t._v(t._s(e.text))])])})),n("el-col",{attrs:{span:6}},[n("transition",[n("div",{staticClass:"anchor-ul-wrap",class:{fixed:t.showList}},[n("h4",{staticClass:"home-page-title no-padding-top"},[n("span",[t._v("目录")])]),t.anchorPointList.length&&t.anchorPointList.length>0?n("ul",{staticClass:"left-ul"},t._l(t.anchorPointList,function(e,a){return n("li",{key:"段落目录"+a,attrs:{title:e.label}},[n("a",{staticClass:"anchor-point text-left",attrs:{href:"#"+a}},[t._v(t._s(e.label))])])})):t._e()])])],1)],1)],1):n("div",{staticClass:"dashboard-fill-height"},[t.secondNav.length>0?n("el-row",[t.secondNav&&t.secondNav.length?n("el-col",{attrs:{span:4}},[n("ul",{staticClass:"left-ul mar10"},t._l(t.secondNav,function(e,a){return n("li",{key:"左侧列表"+a,staticClass:"text-left",class:{"text-primary":t.activeSecond==""+e.id},attrs:{title:e.name},on:{click:function(a){t.leftNavClicked(e)}}},[t._v(t._s(e.name))])}))]):t._e(),n("el-col",{attrs:{span:t.secondNav&&t.secondNav.length>0?20:24}},[n("div",{staticClass:"right-content"},["list"==t.showType?n("list",{attrs:{id:t.activeSecond,navData:t.secondNav},on:{goToDetail:t.goToDetail}}):t._e(),"detail"==t.showType&&t.activeArticle?n("detail",{attrs:{showButton:t.showButton,id:t.activeArticle},on:{backToList:t.backToList}}):"list"!=t.showType?n("div",{staticClass:"text-center text-info"},[t._v(" 该分类仅展示单个文章 , 请至后台 > 设置 > 文章设置中添加 ")]):t._e()],1)])],1):n("div",{staticClass:"text-info text-center"},[t._v(" 没有数据 ")])],1),n("div",{staticClass:"bottom"},[n("p",[n("span",[t._v("今日访问量："+t._s(t.current_count))]),t._v("   |   "),n("span",[t._v("历史访问量："+t._s(t.total_count))])]),n("p",[t._v("© 电子科技大学通信与信息系统实验中心")]),t._m(0)])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"text-info"},[t._v("清水河校区: 成都市高新区（西区）西源大道2006号 邮编:611731"),a("br"),t._v("\n    沙河校区: 成都市建设北路二段四号 邮编:610054\n    ")])}],o=(a("ac6a"),a("4328"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{id:"home-list"}},[a("el-table",{attrs:{data:t.tableData,"show-header":!1}},[a("el-table-column",{attrs:{label:"标题"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.checkDetail(e.row)}}},[t._v(" "+t._s(e.row.article_name)+" ")])]}}])}),a("el-table-column",{attrs:{label:"作者",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.common._convertDate(e.row.create_time,"yyyy年MM月dd日")))]}}])})],1)],1)}),s=[],c={components:{},props:{id:{required:!0,type:String},navData:{required:!0,type:Array}},watch:{id:{handler:function(t,e){this.getArticleList(t)},deep:!0}},data:function(){return{tableData:[],listLoading:!1}},mounted:function(){this.getArticleList(this.id)},methods:{checkDetail:function(t){this.$emit("goToDetail",t)},getArticleList:function(t){var e=this;if(t){this.listLoading=!0;var a={method:"get",url:"".concat(this.common.basePath,"/article"),params:{type:t}};this.axios(a).then(function(t){e.tableData=t.data.data.rows,e.listLoading=!1}).catch(function(t){e.listLoading=!1,e.$message.error(t)})}}}},r=c,l=(a("3ad9"),a("2877")),u=Object(l["a"])(r,o,s,!1,null,null,null);u.options.__file="List.vue";var d=u.exports,h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.detailLoading,expression:"detailLoading"}],attrs:{id:"dashboard-article-detail"}},[t.detailData?a("div",{staticClass:"content-area"},[t.showButton?a("h3",{staticClass:"article-title text-center"},[t._v(t._s(t.detailData.article_name))]):t._e(),a("div",{staticClass:"article-content-html marb10"},[a("p",{domProps:{innerHTML:t._s(t.detailData.article_content)}})])]):a("div",{staticClass:"text-info text-center"},[t._v("未查询到文章数据")])])},f=[],v=(a("c5f6"),{components:{},props:{id:{required:!0,type:Number},showButton:{type:Boolean,default:!0}},watch:{id:{handler:function(t,e){this.getArticleDetail(t)},deep:!0}},data:function(){return{detailData:null,detailLoading:!1}},mounted:function(){this.getArticleDetail(this.id)},methods:{back:function(){this.$emit("backToList","data")},getArticleDetail:function(t){var e=this;this.detailLoading=!0;var a={method:"get",url:"".concat(this.common.basePath,"/article/").concat(t)};this.axios(a).then(function(t){e.detailData=t.data.data,e.detailLoading=!1}).catch(function(t){e.$message.error(t),e.detailLoading=!1})}}}),p=v,g=(a("b783"),Object(l["a"])(p,h,f,!1,null,null,null));g.options.__file="Detail.vue";var m=g.exports,_={components:{list:d,detail:m},watch:{},data:function(){return{carouselData:[],carouselEventData:[],navActive:"home",navData:[],secondNav:[],activeSecond:"",showType:null,showButton:!0,activeArticle:null,defaultProps:{children:"children",label:"label"},showList:!1,anchorPointList:[],current_count:0,total_count:0}},mounted:function(){window.addEventListener("scroll",this.handleScroll),this.initArticleTree(),this.getCaresoulList("carouselData"),this.getCaresoulList("carouselEventData"),this.getAnchorList(),this.initPV()},methods:{initPV:function(){var t=this;this.axios.post("".concat(this.common.basePath,"/home/count")).then(function(e){t.getPV()}).catch(function(e){t.$message.error(e)})},getPV:function(){var t=this;this.axios.get("".concat(this.common.basePath,"/home/count")).then(function(e){t.current_count=e.data.data.current_count,t.total_count=e.data.data.total_count}).catch(function(e){t.$message.error(e)})},handleScroll:function(){var t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;this.showList=!!(t&&t>530)},getAnchorList:function(){var t=this,e={url:"".concat(this.common.basePath,"/home/current"),method:"get",params:{type:"3"}};this.axios(e).then(function(e){t.anchorPointList=JSON.parse(e.data.data)||[]}).catch(function(e){t.$message.error(e)})},getCaresoulList:function(t){var e=this,a={url:"".concat(this.common.basePath,"/home/current"),method:"get",params:{type:"carouselData"==t?1:2}};this.axios(a).then(function(a){e[t]=JSON.parse(a.data.data)||[],e.pageLoading=!1}).catch(function(t){e.$message.error(t),e.pageLoading=!1})},initArticleTree:function(){var t=this;this.pageLoading=!0;var e={method:"get",url:"".concat(this.common.basePath,"/article_type/tree")};this.axios(e).then(function(e){t.navData=e.data.data,t.pageLoading=!1}).catch(function(e){t.pageLoading=!1,t.$message.error(e)})},enterBackStage:function(){var t=this;try{var e=JSON.parse(sessionStorage.getItem("Authority"));if(!e)throw{message:"请登录",code:400};var a=null;e.forEach(function(t){"DeviceList"==t.code&&t.holdOn?a=t.code:"LessonList"==t.code&&t.holdOn&&(a=t.code)}),a?t.$router.push({name:a}):t.$message.error("当前账号对应角色授权异常, 请联系管理员")}catch(e){400==e.code&&t.$router.push({name:"Login"})}},chooseNav:function(t,e){var a=this;a.navActive=t,a.navData.forEach(function(e,n){e.id==t&&(a.secondNav=e.childrens||[],a.secondNav.length>0?(a.activeSecond="".concat(a.secondNav[0].id),1==a.secondNav[0].type?(a.showType="list",a.showButton=!0):a.getFirstArticleId().then(function(t){a.showType="detail",a.showButton=!1}).catch(function(t){a.showType="detail",a.showButton=!1})):a.activeSecond="")})},getFirstArticleId:function(){var t=this,e=new Promise(function(e,a){var n={method:"get",url:"".concat(t.common.basePath,"/article"),params:{type:t.activeSecond}};t.axios(n).then(function(n){n.data.data.rows.length>0?(t.activeArticle=n.data.data.rows[0].id,e("成功")):(t.activeArticle=null,a("失败"))}).catch(function(e){a(t.$message.error(e))})});return e},leftNavClicked:function(t){var e=this;this.activeSecond="".concat(t.id),1==t.type?(this.showButton=!0,this.showType="list"):this.getFirstArticleId().then(function(t){e.showType="detail",e.showButton=!1}).catch(function(t){e.showType="detail",e.showButton=!1})},goToDetail:function(t){this.activeArticle=t.id,this.showType="detail"},backToList:function(t){this.showType="list"},goToLink:function(t){-1!=t.url.indexOf("http://")||-1!=t.url.indexOf("https://")?window.location.href=t.url:window.location.href="http://".concat(t.url)}}},b=_,w=(a("3bdd"),Object(l["a"])(b,n,i,!1,null,"6fa4bfbe",null));w.options.__file="Dashboard.vue";e["default"]=w.exports},"7c95":function(t,e,a){},aa77:function(t,e,a){var n=a("5ca1"),i=a("be13"),o=a("79e5"),s=a("fdef"),c="["+s+"]",r="​",l=RegExp("^"+c+c+"*"),u=RegExp(c+c+"*$"),d=function(t,e,a){var i={},c=o(function(){return!!s[t]()||r[t]()!=r}),l=i[t]=c?e(h):s[t];a&&(i[a]=l),n(n.P+n.F*c,"String",i)},h=d.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(u,"")),t};t.exports=d},b783:function(t,e,a){"use strict";var n=a("7c95"),i=a.n(n);i.a},c5f6:function(t,e,a){"use strict";var n=a("7726"),i=a("69a8"),o=a("2d95"),s=a("5dbc"),c=a("6a99"),r=a("79e5"),l=a("9093").f,u=a("11e9").f,d=a("86cc").f,h=a("aa77").trim,f="Number",v=n[f],p=v,g=v.prototype,m=o(a("2aeb")(g))==f,_="trim"in String.prototype,b=function(t){var e=c(t,!1);if("string"==typeof e&&e.length>2){e=_?e.trim():h(e,3);var a,n,i,o=e.charCodeAt(0);if(43===o||45===o){if(a=e.charCodeAt(2),88===a||120===a)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+e}for(var s,r=e.slice(2),l=0,u=r.length;l<u;l++)if(s=r.charCodeAt(l),s<48||s>i)return NaN;return parseInt(r,n)}}return+e};if(!v(" 0o1")||!v("0b1")||v("+0x1")){v=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof v&&(m?r(function(){g.valueOf.call(a)}):o(a)!=f)?s(new p(b(e)),a,v):b(e)};for(var w,L=a("9e1e")?l(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;L.length>x;x++)i(p,w=L[x])&&!i(v,w)&&d(v,w,u(p,w));v.prototype=g,g.constructor=v,a("2aba")(n,f,v)}},f9da:function(t,e,a){},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-4b06.b4e145ba.js.map