(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b51f"],{"0d52":function(t,e,a){"use strict";var i=a("cd61"),s=a.n(i);s.a},"16ef":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.className,style:{height:t.height,width:t.width}})},s=[],n=(a("7f7f"),a("ac6a"),a("313e")),o=a.n(n);a("817d");var r={props:{className:{type:String,default:"chart"},width:{type:String,default:"50%"},height:{type:String,default:"320px"},data:{type:Array,default:null}},watch:{data:function(t,e){this.newData=t,this.initChart()},screenWidth:function(t,e){this.screenWidth=t,console.log("pie",t,e),this.initChart()}},data:function(){return{chart:null,screenWidth:document.body.clientWidth,newData:[]}},mounted:function(){this.initChart(),window.addEventListener("resize",this.__resizeHanlder)},created:function(){var t=this;window.onresize=function(){return function(){window.screenWidth=document.body.clientWidth,t.screenWidth=window.screenWidth}()}},beforeDestroy:function(){this.chart&&(window.removeEventListener("resize",this.__resizeHanlder),this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=o.a.init(this.$el,"macarons"),this.chart.resize(this.$el,{width:this.screenWidth/2-60+"px"});var t=[],e=this.newData;e.forEach(function(e){t.push(e.name)}),this.chart.setOption({title:{subtext:"",x:"left",y:"top"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",type:"scroll",left:"right",bottom:"100",data:t},calculable:!0,series:[{name:"占比",type:"pie",radius:"55%",center:["50%","50%"],data:e,animationEasing:"cubicInOut",animationDuration:2600,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})}}},l=r,c=a("2877"),u=Object(c["a"])(l,i,s,!1,null,null,null);u.options.__file="TeachingAnalysis.vue";e["a"]=u.exports},"3dfd":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",{staticClass:"mard10"},[a("el-col",{staticClass:"mard10",attrs:{span:12}},[a("el-form-item",{attrs:{label:"问卷名称：",prop:"questionnaire.name",rules:[{required:!0,message:"请输入任务名称",trigger:"blur"},{validator:function(e,a,i){t.common.wordNumberValid(e,a,i,"single")},trigger:"blur"}]}},[t.isEdit?a("el-input",{model:{value:t.questionnaire.name,callback:function(e){t.$set(t.questionnaire,"name",e)},expression:"questionnaire.name"}}):a("span",[t._v(t._s(t.questionnaire.name))])],1)],1),0==t.type?a("el-col",{staticClass:"mard10",attrs:{span:12}},[a("el-form-item",{attrs:{label:"问卷类型：",prop:"type"}},[t.isEdit?a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.questionnaire.type,callback:function(e){t.$set(t.questionnaire,"type",e)},expression:"questionnaire.type"}},t._l(t.optionsType,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})):a("span",[t._v(t._s(t.questionaireType(t.questionnaire.type)))])],1)],1):t._e(),a("el-col",{staticClass:"mart10",attrs:{span:24}},[a("el-form-item",{attrs:{label:"问卷要求：",prop:"questionnaire.description",rules:[{required:!0,message:"请输入任务名称",trigger:"blur"},{validator:function(e,a,i){t.common.wordNumberValid(e,a,i,"textarea")},trigger:"blur"}]}},[t.isEdit?a("el-input",{attrs:{type:"textarea",rows:6},model:{value:t.questionnaire.description,callback:function(e){t.$set(t.questionnaire,"description",e)},expression:"questionnaire.description"}}):a("span",[t._v(t._s(t.questionnaire.description))])],1)],1)],1),a("el-card",{attrs:{shadow:"never"}},[t._l(t.questionnaire.qItems,function(e,i){return a("div",{key:i,staticClass:"questions-box mart5"},[a("div",[t._v(t._s(i+1)+"、")]),a("el-card",{staticClass:"questions-content",attrs:{shadow:"never"}},[a("el-row",{staticClass:"mard10"},[a("el-col",{staticClass:"div-flex",attrs:{span:17}},[a("div",{staticClass:"label-2 label marr5"},[t._v("题干: ")]),t.isEdit?a("el-input",{model:{value:e.question,callback:function(a){t.$set(e,"question",a)},expression:"item.question"}}):a("div",[4!=e.type?a("span",[t._v(t._s(e.question))]):a("span",[t._v(t._s(e.question)+"（"+t._s(e.score)+"分）")])])],1),a("el-col",{staticClass:"text-right question-type",attrs:{offset:1,span:5}},[t._v("\n            "+t._s(t.numMatchingText(e.type))+"\n          ")]),a("el-col",{staticClass:"text-right ",attrs:{span:1}},[t.isEdit?a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-close",circle:""},on:{click:function(e){t.del("question",i)}}}):t._e()],1)],1),a("el-row",{staticClass:"mard10"},[a("el-col",{attrs:{span:22}},[1==e.type||2==e.type?a("div",{staticStyle:{"margin-left":"60px"}},[t._l(e.options,function(e,s){return a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isDelete,expression:"!itemOption.isDelete"}],key:s,staticClass:"div-flex mart10 flex-align-items"},[a("div",{staticClass:"label-2 label marr5"},[t._v("选项"+t._s(s+1)+": ")]),a("div",[t.isEdit?a("el-input",{model:{value:e.answer,callback:function(a){t.$set(e,"answer",a)},expression:"itemOption.answer"}}):a("div",[t._v(t._s(e.answer))])],1),a("div",[t.isEdit?a("el-input",{staticClass:"input-with-pa",attrs:{placeholder:""},model:{value:e.score,callback:function(a){t.$set(e,"score",a)},expression:"itemOption.score"}},[a("span",{attrs:{slot:"prepend"},slot:"prepend"},[t._v("分数")]),a("span",{attrs:{slot:"append"},slot:"append"},[t._v("分")])]):a("div",[t._v("（"+t._s(e.score)+"分）")])],1),t.isEdit?a("el-button",{staticClass:"marl5",attrs:{type:"danger",size:"mini",icon:"el-icon-close",circle:""},on:{click:function(e){t.del("option",i,s)}}}):t._e()],1)}),2==e.type&&t.isEdit?a("div",{staticClass:"div-flex flex-align-items mart10"},[t._v("\n                最多能选择"),a("el-input-number",{staticClass:"marl5 marr5",attrs:{min:1,max:e.options.length},model:{value:e.max_option,callback:function(a){t.$set(e,"max_option",a)},expression:"item.max_option"}}),t._v("项\n              ")],1):t._e(),a("el-button",{directives:[{name:"show",rawName:"v-show",value:(1==e.type||2==e.type)&&t.isEdit,expression:" (item.type == 1 || item.type == 2) && isEdit"}],staticClass:"mart10",staticStyle:{"margin-left":"65px"},attrs:{type:"primary",size:"mini"},on:{click:function(e){t.addOption(i)}}},[t._v("添加选项")])],2):t._e(),4==e.type&&t.isEdit?a("div",{staticClass:"mart10",staticStyle:{"margin-left":"13px"}},[a("el-input",{staticClass:"input-with-pa",attrs:{placeholder:""},model:{value:e.score,callback:function(a){t.$set(e,"score",a)},expression:"item.score"}},[a("span",{attrs:{slot:"prepend"},slot:"prepend"},[t._v("分数")]),a("span",{attrs:{slot:"append"},slot:"append"},[t._v("分")])])],1):t._e(),a("div",{staticClass:"text-right"},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.questionnaire.id&&t.isEdit,expression:" questionnaire.id && isEdit"}],staticClass:"mart10",attrs:{type:"primary",size:"small"},on:{click:function(a){t.saveAppointQuestion(e)}}},[t._v("保存")])],1)])],1)],1)],1)}),t.isEdit?a("div",{staticClass:"text-right mart10"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.addQution("radioQuestion")}}},[t._v("添加单选题")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.addQution("chekboxQuestion")}}},[t._v("添加多选题")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.addQution("shortAnswerQuestion")}}},[t._v("添加评语")])],1):t._e()],2)],1)},s=[],n=(a("ac6a"),{props:{questionnaire:{default:null},isEdit:!1,type:{default:0}},data:function(){return{checkbox:!1,optionsType:[{value:1,label:"评价教学"},{value:2,label:"互评"},{value:3,label:"自评"}],questionTemplate:{radioQuestion:{question:"我是第二道试题 ",type:1,options:[{answer:"我是第二试题的第一选项",score:1,isDelete:!1},{answer:"我是第2试题的第二选项",score:2,isDelete:!1},{answer:"我是第2试题的第二选项",score:3,isDelete:!1}]},chekboxQuestion:{question:"我是第二道试题 ",type:2,max_option:1,options:[{answer:"我是第二试题的第一选项",score:1,isDelete:!1},{answer:"我是第二试题的第二选项",score:2,isDelete:!1}]},shortAnswerQuestion:{question:"我是第二道试题",type:4,score:30,analyze:"这是我的习题解析"}},questionTypeText:null}},components:{},computed:{},mounted:function(){},methods:{questionaireType:function(t){switch(t){case 1:return"评价教学";case 2:return"自评";case 3:return"互评"}},numMatchingText:function(t){switch(t){case 1:return this.questionTypeText="单选题";case 2:return this.questionTypeText="多选题";case 3:return this.questionTypeText="判断题";case 4:return this.questionTypeText="评语"}},addQution:function(t){this.questionnaire.qItems.push(JSON.parse(JSON.stringify(this.questionTemplate[t])))},del:function(t,e,a){"question"==t?this._delQution(e):this._delOption(e,a)},_delQution:function(t){if(this.questionnaire.qItems.length<=1)return this.$message.warning("不能删除，必须存在一个题！！！"),!1;this.questionnaire.qItems[t].id?this._pseudoDelQution(t):this.questionnaire.qItems.splice(t,1)},_pseudoDelQution:function(t){var e=this;this.axios.patch("".concat(this.common.basePath,"/question/delete/").concat(this.questionnaire.qItems[t].id),"").then(function(a){e.questionnaire.qItems.splice(t,1)}).catch(function(t){e.$message.error(t)})},_delOption:function(t,e){if(this.questionnaire.qItems[t].options.length<=2)return this.$message.warning("不能删除，必须存在两个选项！！！"),!1;this.questionnaire.qItems[t].options[e].id?this.questionnaire.qItems[t].options[e].isDelete=!0:this.questionnaire.qItems[t].options.splice(e,1)},addOption:function(t){var e=JSON.parse(JSON.stringify(this.questionTemplate.radioQuestion.options[0]));this.questionnaire.qItems[t].options.push(e)},changeRadioRightKey:function(t,e){t.options.forEach(function(t,a){t.answer=a!=e?"false":"true"})},saveAppointQuestion:function(t){var e=this,a=null;a=t.id?"".concat(this.common.basePath,"/question/update"):"".concat(this.common.basePath,"/question/save"),t.paper_id=this.$route.params.id,this.axios.post(a,t).then(function(a){e.paperDetail=a.data.data,a.data.data&&(t.id=a.data.data)}).catch(function(t){e.$message.error(t)})},getQueryQuestionById:function(t){var e=this;this.axios.get("".concat(this.common.basePath,"question/simple/").concat(t.id),"").then(function(e){t=e.data.data}).catch(function(t){e.$message.error(t)})}}}),o=n,r=(a("da46"),a("2877")),l=Object(r["a"])(o,i,s,!1,null,null,null);l.options.__file="Questionnaire.vue";e["a"]=l.exports},"817d":function(t,e,a){var i,s,n;(function(o,r){s=[e,a("313e")],i=r,n="function"===typeof i?i.apply(e,s):i,void 0===n||(t.exports=n)})(0,function(t,e){var a=function(t){"undefined"!==typeof console&&console&&console.error&&console.error(t)};if(e){var i=["#2ec7c9","#b6a2de","#5ab1ef","#ffb980","#d87a80","#8d98b3","#e5cf0d","#97b552","#95706d","#dc69aa","#07a2a4","#9a7fd1","#588dd5","#f5994e","#c05050","#59678c","#c9ab00","#7eb00a","#6f5553","#c14089"],s={color:i,title:{textStyle:{fontWeight:"normal",color:"#008acd"}},visualMap:{itemWidth:15,color:["#5ab1ef","#e0ffff"]},toolbox:{iconStyle:{normal:{borderColor:i[0]}}},tooltip:{backgroundColor:"rgba(50,50,50,0.5)",axisPointer:{type:"line",lineStyle:{color:"#008acd"},crossStyle:{color:"#008acd"},shadowStyle:{color:"rgba(200,200,200,0.2)"}}},dataZoom:{dataBackgroundColor:"#efefff",fillerColor:"rgba(182,162,222,0.2)",handleColor:"#008acd"},grid:{borderColor:"#eee"},categoryAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitLine:{lineStyle:{color:["#eee"]}}},valueAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0.1)","rgba(200,200,200,0.1)"]}},splitLine:{lineStyle:{color:["#eee"]}}},timeline:{lineStyle:{color:"#008acd"},controlStyle:{normal:{color:"#008acd"},emphasis:{color:"#008acd"}},symbol:"emptyCircle",symbolSize:3},line:{smooth:!0,symbol:"emptyCircle",symbolSize:3},candlestick:{itemStyle:{normal:{color:"#d87a80",color0:"#2ec7c9",lineStyle:{color:"#d87a80",color0:"#2ec7c9"}}}},scatter:{symbol:"circle",symbolSize:4},map:{label:{normal:{textStyle:{color:"#d87a80"}}},itemStyle:{normal:{borderColor:"#eee",areaColor:"#ddd"},emphasis:{areaColor:"#fe994e"}}},graph:{color:i},gauge:{axisLine:{lineStyle:{color:[[.2,"#2ec7c9"],[.8,"#5ab1ef"],[1,"#d87a80"]],width:10}},axisTick:{splitNumber:10,length:15,lineStyle:{color:"auto"}},splitLine:{length:22,lineStyle:{color:"auto"}},pointer:{width:5}}};e.registerTheme("macarons",s)}else a("ECharts is not Loaded")})},bc90:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-wrap-box"},[a("el-card",{staticClass:"title-card"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/lesson/system/"}}},[t._v("课程资源")]),t.paramsCId?a("el-breadcrumb-item",{attrs:{to:{path:"/lesson/system/coursedetail/"+t.paramsCId}}},[t._v("课程详情")]):t._e(),a("el-breadcrumb-item",[t._v("问卷详情")])],1)],1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"router-view-wrap transparent-bg"},[a("div",{staticClass:"router-view-content"},[t.common.checkAuthority("Lesson-Data-QuestionnaireDetail-Query",!0)?a("div",[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"card-title"},[t._v("问卷信息")]),t.courseDetailData?a("el-switch",{staticClass:"fr",attrs:{title:1===t.courseDetailData.cur_status?"禁用":"启用",disabled:t.isDisabaledDelBtn(),"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(e){1===t.courseDetailData.cur_status?t.disabledTask(t.courseDetailData.baseCQuestionnaireId):t.noDisabledTask(t.courseDetailData.baseCQuestionnaireId)}},model:{value:1===t.courseDetailData.cur_status,callback:function(e){t.$set(t.courseDetailData,"cur_status===1",e)},expression:"courseDetailData.cur_status===1"}}):t._e()],1),t.courseDetailData?a("el-form",{staticClass:"show-detail-form",attrs:{"label-width":"100px"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"名称："}},[t._v(t._s(t.courseDetailData.name))])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"类型："}},[a("el-tag",{attrs:{type:"success"}},[t._v("课程问卷调查")])],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"要求："}},[a("p",{staticClass:"cursor-pointer_T"},[t._v(t._s(t.courseDetailData.description))])])],1),a("el-col",{attrs:{span:24}},[a("p",{staticClass:"text-right"},[a("el-button",{attrs:{disabled:t.isUseTemplete(),type:"primary"},on:{click:function(e){t.questionTaskDialog=!0,t.echo()}}},[t._v("\n                      编辑\n                  ")]),a("el-button",{attrs:{disabled:!t.common.checkAuthority("Lesson-Data-QuestionnaireDetail-Delete",!0),type:"danger"},on:{click:function(e){t.deleteCourse(t.courseDetailData.baseCQuestionnaireId)}}},[t._v("\n                      删除\n                  ")])],1)])],1)],1):t._e(),a("el-card",{staticClass:"mart20"},[a("div",{staticClass:"overflow-hidden",attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"card-title fl"},[t._v("问卷内容")]),t.questionnaire.total>0?a("el-button",{staticClass:"fr",attrs:{size:"small",disabled:t.isDisabaledNexBtn(),type:"primary"},on:{click:function(e){t.exercisesIndex+=1}}},[t._v("\n                  下一题\n              ")]):t._e(),t.questionnaire.total>0?a("div",{staticClass:"fr marr10 marl10 mart8 text-bold"},[t._v(t._s(t.questionnaire.total>0?t.exercisesIndex:"0")+"/"+t._s(t.questionnaire.total))]):t._e(),t.questionnaire.total>0?a("el-button",{staticClass:"fr",attrs:{size:"small",disabled:t.isDisabaledPreBtn(),type:"primary"},on:{click:function(e){t.exercisesIndex-=1}}},[t._v("\n                  上一题\n              ")]):t._e()],1),t.questionnaire.total>0?a("div",t._l(t.questionnaire.rows,function(e,i){return i+1===t.exercisesIndex?a("div",[a("el-form",{staticClass:"show-detail-form",attrs:{"label-width":"100px"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"第 "+(i+1<10?"0"+(i+1):i+1)+" 题："}},[t._v("\n                        "+t._s(e.question)),4===e.type?a("span",[t._v(" （"+t._s(e.score?e.score:"0")+"分）")]):t._e(),t._v("   \n                        "),1===e.type?a("el-tag",{attrs:{type:"success"}},[t._v("单选题")]):t._e(),2===e.type?a("el-tag",{attrs:{type:"primary"}},[t._v("多选题")]):t._e(),3===e.type?a("el-tag",{attrs:{type:"danger"}},[t._v("判断题")]):t._e(),4===e.type?a("el-tag",{attrs:{type:"warning"}},[t._v("评语")]):t._e(),1===e.type||2===e.type?a("div",[e.options&&e.options.length>0?a("el-form",{staticClass:"show-detail-form_s",attrs:{"label-width":"15px"}},t._l(e.options,function(e,i){return a("div",[a("el-form-item",{attrs:{label:t.common.exerciseOptions(i+1)+"."}},[t._v(t._s(e.answer)+"（"+t._s(e.score?e.score:"0")+"分）")])],1)})):a("div",{staticClass:"no-data"},[t._v("暂无选项")])],1):t._e()],1)],1)],1)],1)],1):t._e()})):a("div",{staticClass:"no-data"},[t._v("暂无数据")])])],1)],1):a("div",{staticClass:"text-center text-info"},[t._v(" 你无权查看此内容 ")])])]),a("el-dialog",{attrs:{width:"900px",title:"编辑问卷",visible:t.questionTaskDialog},on:{"update:visible":function(e){t.questionTaskDialog=e}}},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.dialogLoading,expression:"dialogLoading"}],ref:"questionTaskForm",attrs:{model:t.questionTaskForm,"label-width":"120px"}},[a("questionnaire-paper",{attrs:{questionnaire:t.questionTaskForm.questionnaire,isEdit:"true",type:1}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.questionTaskDialog=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitQuestion("questionTaskForm")}}},[t._v("保存")])],1)],1)],1)},s=[],n=(a("7f7f"),a("ac6a"),a("cadf"),a("551c"),a("097d"),a("16ef")),o=a("f623"),r=a("3dfd"),l={data:function(){return{loading:!1,dialogLoading:!1,paramsCId:this.$route.params.course_id,paramsQId:this.$route.params.questionnaire_id,courseDetailData:null,questionnaire:{rows:[],total:0},exercisesIndex:1,questionTaskDialog:!1,questionTaskForm:{questionnaire:{name:null,description:null,qItems:[]}},teachingAnalysis:{members:0,quote:0,data:[{value:0,name:"100分-90分"},{value:0,name:"90分-80分"},{value:0,name:"80分-70分"},{value:0,name:"70分-60分"},{value:0,name:"60分以下"}]},optionsAnalysis:[{value:0,name:"A"},{value:0,name:"B"},{value:0,name:"C"},{value:0,name:"D"},{value:0,name:"E"}]}},components:{TeachingAnalysis:n["a"],OptionsAnalysis:o["a"],QuestionnairePaper:r["a"]},mounted:function(){this.getQueryCourseDetail(!0)},methods:{isUseTemplete:function(){if(!1!==!this.common.checkAuthority("Lesson-Data-QuestionnaireDetail-Edit",!0))return!0;this.axios.get("".concat(this.common.basePath,"/base-questionnaire/used"),{params:{id:this.paramsQId}}).then(function(t){return!0!==t.data.data}).catch(function(t){return!0})},isDisabaledDelBtn:function(){return!1!==!this.common.checkAuthority("Lesson-Data-QuestionnaireDetail-Disabled",!0)||1!=this.courseDetailData.cur_status&&2!=this.courseDetailData.cur_status},formatTooltip:function(t){return t+"%"},resetForm:function(t){this.$refs[t]&&this.$refs[t].resetFields()},isDisabaledPreBtn:function(){return!1!==!this.common.checkAuthority("Lesson-Data-QuestionnaireDetail-PreNext",!0)||this.exercisesIndex<2},isDisabaledNexBtn:function(){return!1!==!this.common.checkAuthority("Lesson-Data-QuestionnaireDetail-PreNext",!0)||this.exercisesIndex>this.questionnaire.total-1},getQueryCourseDetail:function(t){var e=this;this.loading=!0,this.axios.get("".concat(this.common.basePath,"/base-questionnaire/detail"),{params:{baseCQuestionnaireId:this.paramsQId}}).then(function(a){e.courseDetailData=a.data.data,a.data.data&&t?e.getQueryQuestionnaire(a.data.data.id):e.loading=!1}).catch(function(t){e.$message.error(t),e.loading=!1})},getQueryQuestionnaire:function(t){var e=this;this.loading=!0,this.axios.get("".concat(this.common.basePath,"/qitem"),{params:{questionnaire_id:t}}).then(function(t){e.questionnaire=t.data.data,e.loading=!1}).catch(function(t){e.$message.error(t),e.loading=!1})},echo:function(){var t=this;this.dialogLoading=!0,this.axios.get("".concat(this.common.basePath,"/base-questionnaire/detail"),{params:{baseCQuestionnaireId:this.paramsQId}}).then(function(e){t.questionTaskForm.questionnaire=e.data.data,t.axios.get("".concat(t.common.basePath,"/qitem"),{params:{questionnaire_id:e.data.data.id}}).then(function(e){t.questionTaskForm.questionnaire.qItems=e.data.data?e.data.data.rows:[],t.dialogLoading=!1}).catch(function(e){t.$message.error(e),t.dialogLoading=!1})}).catch(function(e){t.$message.error(e),t.dialogLoading=!1})},getQueryOPAnalysis:function(t,e,a){var i=this;this.loading=!0,this.axios.get("".concat(this.common.basePath,"/questionnaire/answerTotal"),{params:{questionnaireId:t,itemId:e}}).then(function(t){var e=[],s=i;t.data.data?t.data.data[0].optionsAnalysis&&(1===a||2===a?t.data.data[0].optionsAnalysis.forEach(function(t,a){e.push({name:s.common.exerciseOptions(a+1),value:t.value})}):3===a?t.data.data[0].optionsAnalysis.forEach(function(t,a){e.push({name:s.common.exerciseOptions(a+1),value:t.value})}):4===a&&t.data.data[0].optionsAnalysis.forEach(function(t,a){e.push({name:t.name,value:t.value})})):e=[],i.optionsAnalysis=e,i.loading=!1}).catch(function(t){i.$message.error(t),i.loading=!1})},getQueryAnalysis:function(){var t=this;this.loading=!0,this.axios.get("".concat(this.common.basePath,"/baseTask/analysis"),{params:{id:this.paramsQId,type:1}}).then(function(e){t.teachingAnalysis=e.data.data,t.loading=!1}).catch(function(e){t.$message.error(e),t.loading=!1})},submitQuestion:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;var a={name:e.questionTaskForm.questionnaire.name,description:e.questionTaskForm.questionnaire.description,qItems:e.questionTaskForm.questionnaire.qItems,baseCQuestionnaireId:e.courseDetailData.baseCQuestionnaireId};e.axios.post("".concat(e.common.basePath,"/base-questionnaire/update"),a).then(function(t){e.getQueryCourseDetail(!0),e.questionTaskDialog=!1,e.$message.success(t.data.meta.message)}).catch(function(t){e.$message.error(t),e.questionTaskDialog=!1})})},disabledTask:function(t){var e=this;this.$confirm("  你在进行课程问卷模板的操作！如果禁用以后将不能使用此模板创建任务！","禁用",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.disabledTask_(t)}).catch(function(){})},disabledTask_:function(t){var e=this;this.axios.get("".concat(this.common.basePath,"/base-questionnaire/begin-end"),{params:{id:t}}).then(function(t){e.$message.success(t.data.meta.message),e.getQueryCourseDetail(!1)}).catch(function(t){e.$message.error(t)})},noDisabledTask:function(t){var e=this;this.$confirm("  你在进行课程问卷模板的操作！是否解禁该任务！","解禁",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.noDisabledTask_(t)}).catch(function(){})},noDisabledTask_:function(t){var e=this;this.axios.get("".concat(this.common.basePath,"/base-questionnaire/begin-end"),{params:{id:t}}).then(function(t){e.$message.success(t.data.meta.message),e.getQueryCourseDetail(!1)}).catch(function(t){e.$message.error(t)})},deleteCourse:function(t){var e=this;this.$confirm("  您正在对课程的问卷资料进行删除操作，如果问卷资料删除成功将会导致该问卷等资料永久消失！ 请谨慎操作！","删除",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.deleteCourse_(t)}).catch(function(){})},deleteCourse_:function(t){var e=this;this.axios.get("".concat(this.common.basePath,"/base-questionnaire/delete"),{params:{id:t}}).then(function(t){e.$message.success(t.data.meta.message),e.$router.push({name:"LessonSystemCourseDetail"})}).catch(function(t){e.$message.error(t)})}}},c=l,u=(a("0d52"),a("2877")),d=Object(u["a"])(c,i,s,!1,null,null,null);d.options.__file="LessonSystemQuestionnaireDetail.vue";e["default"]=d.exports},cd61:function(t,e,a){},da38:function(t,e,a){},da46:function(t,e,a){"use strict";var i=a("da38"),s=a.n(i);s.a},f623:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.className,style:{height:t.height,width:t.width}})},s=[],n=(a("7f7f"),a("ac6a"),a("313e")),o=a.n(n);a("817d");var r={props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"240px"},data:{type:Array,default:null}},watch:{data:function(t,e){console.log(t,e),this.newData=t,this.initChart()},screenWidth:function(t,e){this.screenWidth=t,console.log("pie",t,e),this.initChart()}},data:function(){return{chart:null,screenWidth:document.body.clientWidth,newData:[]}},mounted:function(){this.initChart(),window.addEventListener("resize",this.__resizeHanlder)},created:function(){var t=this;window.onresize=function(){return function(){window.screenWidth=document.body.clientWidth,t.screenWidth=window.screenWidth}()}},beforeDestroy:function(){this.chart&&(window.removeEventListener("resize",this.__resizeHanlder),this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=o.a.init(this.$el,"macarons"),this.chart.resize(this.$el,{width:this.screenWidth/4-60+"px"});var t=[],e=[];this.newData.forEach(function(a,i){e.push(a.value),t.push(a.name)}),this.chart.setOption({title:{text:"",subtext:""},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:[]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value",boundaryGap:[0,.1]},yAxis:{type:"category",data:t},series:[{name:"数量",type:"bar",data:e,animationEasing:"cubicInOut",animationDuration:2600,itemStyle:{normal:{color:function(t){var e=["#B74AE5","#16A085","#BA4A00","#53a8ff","#67c23a","#e6a23c","#f56c6c","#909399"];return e[t.dataIndex]}}}}]})}}},l=r,c=a("2877"),u=Object(c["a"])(l,i,s,!1,null,null,null);u.options.__file="OptionsAnalysis.vue";e["a"]=u.exports}}]);
//# sourceMappingURL=chunk-b51f.19705c64.js.map