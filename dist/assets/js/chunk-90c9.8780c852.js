(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-90c9"],{2682:function(e,t,r){},"28e4":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"contentWrap",staticClass:"content-wrap-box"},[r("el-card",{staticClass:"title-card"},[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",[e._v("习题评分")])],1)],1),r("div",{ref:"contentWrap",staticClass:"router-view-wrap"},[r("div",{staticClass:"router-view-content"},[r("el-form",{ref:"searchForm",attrs:{model:e.searchForm,inline:!0,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"实验课程：",prop:"course_id"}},[r("el-select",{on:{change:e.courseChange},model:{value:e.searchForm.course_id,callback:function(t){e.$set(e.searchForm,"course_id",t)},expression:"searchForm.course_id"}},e._l(e.courseListData.rows,function(e,t){return r("el-option",{key:t,attrs:{value:e.id,label:e.name}})}))],1),r("el-form-item",{attrs:{label:"实验名称：",prop:"experiment_id"}},[r("el-select",{model:{value:e.searchForm.experiment_id,callback:function(t){e.$set(e.searchForm,"experiment_id",t)},expression:"searchForm.experiment_id"}},e._l(e.experimentListData.rows,function(e,t){return r("el-option",{key:t,attrs:{value:e.id,label:e.name}})}))],1),r("el-form-item",{staticStyle:{display:"none"},attrs:{label:"状态：",prop:"reportStatus"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.searchForm.reportStatus,callback:function(t){e.$set(e.searchForm,"reportStatus",t)},expression:"searchForm.reportStatus"}},e._l(e.statusOptions,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),r("el-form-item",[r("el-button",{attrs:{disabled:!e.common.checkAuthority("ExerciseScore_QueryList",!0),type:"primary"},on:{click:function(t){e.getQueryList()}}},[e._v("\n            "+e._s(e.common.checkAuthority("ExerciseScore_QueryList")?e.common.checkAuthority("ExerciseScore_QueryList").name:"")+"\n          ")]),r("el-button",{attrs:{type:"primary"},on:{click:e.resetSearchForm}},[e._v("置空")])],1)],1),r("el-table",{attrs:{data:e.listData.rows,"tooltip-effect":"dark"}},[r("el-table-column",{attrs:{label:"习题名称",prop:"name"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{staticClass:"cursor-pointer",on:{click:function(r){e.goToDetail(t.row)}}},[e._v(e._s(t.row.name))])]}}])}),r("el-table-column",{attrs:{width:"150px",prop:"user_name",label:"学生姓名"}}),r("el-table-column",{attrs:{width:"150px",label:"截止时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e.common._convertDate(t.row.end_time,"yyyy年MM月dd日"))+"\n          ")]}}])}),r("el-table-column",{attrs:{width:"150px",prop:"sex",label:"状态","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e.reportStatus(t.row.solution_status))+"\n          ")]}}])}),r("el-table-column",{attrs:{width:"150px",prop:"solution_score",label:"得分","show-overflow-tooltip":""}}),r("el-table-column",{attrs:{label:"操作",width:"80px","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",[r("el-button",{attrs:{disabled:!e.common.checkAuthority("ExerciseScore_Score",!0),type:"primary",size:"mini"},on:{click:function(r){e.showPaper(t.row)}}},[e._v("\n                "+e._s(e.common.checkAuthority("ExerciseScore_Score")?e.common.checkAuthority("ExerciseScore_Score").name:"")+"\n              ")])],1)]}}])})],1),r("div",{staticClass:"router-view-bottom mart10"},[r("div"),r("el-pagination",{staticClass:"fr ",attrs:{disabled:!e.common.checkAuthority("ExerciseScore_QueryList",!0),background:"","current-page":e.common.elementPagination.pageNum,"page-sizes":e.common.elementPagination.pageSizes,"page-size":e.common.elementPagination.pageSizeDefault,layout:"total, sizes, prev, pager, next",total:e.listData.total},on:{"size-change":function(t){e.handleSizeChange(t)},"current-change":function(t){e.handleCurrentChange(t)}}})],1)],1)])],1)},o=[],s={data:function(){return{dateTE:null,searchForm:{course_id:null,experiment_id:null,reportStatus:2,pageNum:this.common.elementPagination.pageNumDefault,pageSize:this.common.elementPagination.pageSizeDefault,teacher_id:sessionStorage.getItem("Access-Key")},statusOptions:[{label:"未完成",value:1},{label:"已完成",value:2},{label:"未打分",value:3}],listData:{total:0,rows:[]},courseListData:{total:0,rows:[]},experimentListData:{total:0,rows:[]},activeCourseId:null,activeAnswerItem:null}},watch:{},created:function(){console.log(this.$store.state.authority)},mounted:function(){this.getQueryList(),this.getQueryCourseList()},methods:{reportStatus:function(e){if(e)switch(e){case 1:return"未完成";case 2:return"已完成";case 3:return"未打分"}},getQueryList:function(){var e=this;this.axios.get("".concat(this.common.basePath,"/task/student/test"),{params:this.searchForm}).then(function(t){e.listData=t.data.data}).catch(function(t){e.$message.error(t)})},getQueryCourseList:function(){var e=this;this.axios.get("".concat(this.common.basePath,"/course"),"").then(function(t){e.courseListData=t.data.data}).catch(function(t){e.$message.error(t)})},resetSearchForm:function(){this.$refs.searchForm&&this.$refs.searchForm.resetFields()},getQueryExperimentList:function(e){var t=this;this.axios.get("".concat(this.common.basePath,"/experiment"),{params:{course_id:e}}).then(function(e){t.experimentListData=e.data.data}).catch(function(e){t.$message.error(e)})},courseChange:function(e){this.searchForm.experiment_id=null,this.getQueryExperimentList(e)},handleCurrentChange:function(e){this.searchForm.pageNum=e,this.getQueryList()},handleSizeChange:function(e){this.searchForm.pageSize=e,this.getQueryList()},showPaper:function(e){this.$router.push({name:"EPTMarkingScore",params:{solution_id:e.solution_id}}),this.activeAnswerItem=e},goToDetail:function(e){this.$router.push({name:"ExerciseScoreDetail",params:{task_id:e.id,experiment_id:e.experiment_id}})}}},n=s,i=(r("342b"),r("2877")),c=Object(i["a"])(n,a,o,!1,null,null,null);c.options.__file="ExerciseScore.vue";t["default"]=c.exports},"342b":function(e,t,r){"use strict";var a=r("2682"),o=r.n(a);o.a}}]);
//# sourceMappingURL=chunk-90c9.8780c852.js.map