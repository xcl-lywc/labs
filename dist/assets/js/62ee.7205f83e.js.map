{"version":3,"sources":["webpack:///./src/views/lessonManage/lesson/QuestionnaireDetail.vue?37ed","webpack:///src/views/lessonManage/lesson/QuestionnaireDetail.vue","webpack:///./src/views/lessonManage/lesson/QuestionnaireDetail.vue?7f2f","webpack:///./src/views/lessonManage/lesson/QuestionnaireDetail.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","separator-class","to","path","_v","name","params","id","courseId","slot","span","_s","paperDetail","description","questionCount","answerSituation","memberId","sheetId","disabled","common","checkAuthority","type","size","on","click","$event","$router","push","course_id","cquestionnaire_id","cQuestionnaireId","questionnaire_id","questionnaireId","_e","goToQuestionPage","template","courseTemplate","upGradeBase","model","value","callback","$$v","questionActiveName","expression","label","_l","item","index","answerList","hide-on-click","placement","src","head_img","onerror","defaultImg","sex","width","height","user_name","account","phone_num","facultyName","mail","length","noAnswerList","staticRenderFns","QuestionnaireDetailvue_type_script_lang_js_","data","$route","isLoad","paperDialog","loginUserAccount","sessionStorage","getItem","isPaperDialogShowClose","participantId","computed","mounted","getQueryPaperDetail","getQueryAnswerMember","getQueryNoAnswerMember","getQueryCourseAnswerMember","methods","_this","axios","get","concat","basePath","then","response","$message","success","meta","message","catch","error","associated_object","_this2","closePaperDialogFun","isPaperDialogShowCloseFun","val","_this3","_this4","_this5","userId","JSON","parse","__webpack_require__","lesson_QuestionnaireDetailvue_type_script_lang_js_","component","Object","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"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","file":"assets/js/62ee.7205f83e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content-wrap-box\"},[_c('el-card',{staticClass:\"title-card\"},[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/lesson/list' }}},[_vm._v(\"课程列表\")]),_c('el-breadcrumb-item',{attrs:{\"to\":{ name: 'LessonListDetail', params: {id: _vm.courseId} }}},[_vm._v(\"课程详情\")]),_c('el-breadcrumb-item',[_vm._v(\"课程问卷详情\")])],1)],1),_c('div',{staticClass:\"router-view-wrap transparent-bg\"},[_c('div',{staticClass:\"router-view-content task-detail\"},[(_vm.paperDetail)?_c('el-card',{staticClass:\"mart20\"},[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',{staticClass:\"card-title\"},[_vm._v(\"问卷基本信息\")])]),_c('el-row',[_c('el-col',{staticClass:\"marb5\",attrs:{\"span\":12}},[_vm._v(\"问卷名称：\"+_vm._s(_vm.paperDetail.name))]),_c('el-col',{staticClass:\"marb5\",attrs:{\"span\":24}},[_vm._v(\"问卷要求：\"+_vm._s(_vm.paperDetail.description))]),_c('el-col',{staticClass:\"mart5\",attrs:{\"span\":12}},[_vm._v(\"\\n            共（\"+_vm._s(_vm.paperDetail.questionCount ? _vm.paperDetail.questionCount : 0)+\"）题\\n            \"),(_vm.answerSituation.memberId && !_vm.answerSituation.sheetId)?_c('el-button',{staticClass:\"marl10\",attrs:{\"disabled\":!_vm.common.checkAuthority('LessonQuestionnaireDetail_GoToAnswer', true),\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.$router.push({name: 'LessonQuestionnaireScore', params: {course_id: _vm.courseId, cquestionnaire_id: _vm.cQuestionnaireId, questionnaire_id: _vm.questionnaireId} })}}},[_vm._v(\"\\n              \"+_vm._s(_vm.common.checkAuthority('LessonQuestionnaireDetail_GoToAnswer') ? _vm.common.checkAuthority('LessonQuestionnaireDetail_GoToAnswer').name : '')+\"\\n            \")]):_vm._e(),_c('el-button',{attrs:{\"disabled\":!_vm.common.checkAuthority('LessonQuestionnaireDetail_CheckQuestionDetail', true),\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.goToQuestionPage}},[_vm._v(\"\\n              \"+_vm._s(_vm.common.checkAuthority('LessonQuestionnaireDetail_CheckQuestionDetail') ? _vm.common.checkAuthority('LessonQuestionnaireDetail_CheckQuestionDetail').name : '')+\"\\n            \")])],1),_c('el-col',{staticClass:\"text-right\",attrs:{\"span\":12}},[(!_vm.paperDetail.template && _vm.paperDetail.courseTemplate)?_c('el-button',{attrs:{\"disabled\":!_vm.common.checkAuthority('LessonQuestionnaireDetail_Base', true),\"type\":\"primary\"},on:{\"click\":_vm.upGradeBase}},[_vm._v(\"\\n              \"+_vm._s(_vm.common.checkAuthority('LessonQuestionnaireDetail_Base') ? _vm.common.checkAuthority('LessonQuestionnaireDetail_Base').name : '')+\"\\n            \")]):_vm._e()],1)],1)],1):_vm._e(),_c('div',{staticClass:\"mart10\"},[_c('el-card',{staticClass:\"mart20\"},[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',{staticClass:\"card-title\"},[_vm._v(\"答题情况\")])]),_c('el-tabs',{model:{value:(_vm.questionActiveName),callback:function ($$v) {_vm.questionActiveName=$$v},expression:\"questionActiveName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"已答\",\"name\":\"1\"}},[_vm._l((_vm.answerList),function(item,index){return (_vm.answerList.length)?_c('div',{staticClass:\"person-group-item_w\"},[_c('el-dropdown',{attrs:{\"hide-on-click\":false,\"placement\":\"bottom-start\"}},[_c('div',{staticClass:\"img-photo-fix wh50\"},[_c('img',{attrs:{\"src\":item.head_img ? item.head_img : '默认图',\"onerror\":_vm.defaultImg(item.sex),\"width\":\"50px\",\"height\":\"50px\"}})]),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-row',{staticClass:\"mar5 member-info-fix\"},[_c('el-col',{attrs:{\"span\":9}},[_c('p',[_c('img',{attrs:{\"src\":item.head_img ? item.head_img : '默认图',\"onerror\":_vm.defaultImg(item.sex),\"width\":\"100px\",\"height\":\"100px\"}})])]),_c('el-col',{attrs:{\"span\":15}},[_c('p',[_vm._v(\"姓名：\"+_vm._s(item.user_name ? item.user_name : '无'))]),_c('p',[_vm._v(\"工/学号：\"+_vm._s(item.account ? item.account : '无'))]),_c('p',[_vm._v(\"手机：\"+_vm._s(item.phone_num ? item.phone_num : '无'))]),_c('p',[_vm._v(\"院系：\"+_vm._s(item.facultyName ? item.facultyName : '无'))]),_c('p',[_vm._v(\"邮箱：\"+_vm._s(item.mail ? item.mail : '无'))])])],1)],1)],1)],1):_vm._e()}),(!_vm.answerList.length)?_c('div',{staticClass:\"mar10\"},[_vm._v(\"暂无数据\")]):_vm._e()],2),_c('el-tab-pane',{attrs:{\"label\":\"未答\",\"name\":\"2\"}},[_vm._l((_vm.noAnswerList),function(item,index){return (_vm.noAnswerList.length)?_c('div',{staticClass:\"person-group-item_w\"},[_c('el-dropdown',{attrs:{\"hide-on-click\":false,\"placement\":\"bottom-start\"}},[_c('div',{staticClass:\"img-photo-fix wh50\"},[_c('img',{attrs:{\"src\":item.head_img ? item.head_img : '默认图',\"onerror\":_vm.defaultImg(item.sex),\"width\":\"50px\",\"height\":\"50px\"}})]),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-row',{staticClass:\"mar5 member-info-fix\"},[_c('el-col',{attrs:{\"span\":9}},[_c('p',[_c('img',{attrs:{\"src\":item.head_img ? item.head_img : '默认图',\"onerror\":_vm.defaultImg(item.sex),\"width\":\"100px\",\"height\":\"100px\"}})])]),_c('el-col',{attrs:{\"span\":15}},[_c('p',[_vm._v(\"姓名：\"+_vm._s(item.user_name ? item.user_name : '无'))]),_c('p',[_vm._v(\"工/学号：\"+_vm._s(item.account ? item.account : '无'))]),_c('p',[_vm._v(\"手机：\"+_vm._s(item.phone_num ? item.phone_num : '无'))]),_c('p',[_vm._v(\"院系：\"+_vm._s(item.facultyName ? item.facultyName : '无'))]),_c('p',[_vm._v(\"邮箱：\"+_vm._s(item.mail ? item.mail : '无'))])])],1)],1)],1)],1):_vm._e()}),(!_vm.noAnswerList.length)?_c('div',{staticClass:\"mar10\"},[_vm._v(\"暂无数据\")]):_vm._e()],2)],1)],1)],1)],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*********   课程问卷详情 ********************/\r\n<template> \r\n  <div class=\"content-wrap-box\">\r\n    <!-- 头部导航栏 -->\r\n    <el-card class=\"title-card\">\r\n      <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n        <el-breadcrumb-item :to=\"{ path: '/lesson/list' }\">课程列表</el-breadcrumb-item>\r\n        <el-breadcrumb-item :to=\"{ name: 'LessonListDetail', params: {id: courseId} }\">课程详情</el-breadcrumb-item>\r\n        <el-breadcrumb-item>课程问卷详情</el-breadcrumb-item>\r\n      </el-breadcrumb>\r\n    </el-card>\r\n    <div class=\"router-view-wrap transparent-bg\"> \r\n      <!-- 页面主要内容 -->\r\n      <div class=\"router-view-content task-detail\">  \r\n        <!-- 问卷基本信息 -->\r\n        <el-card class=\"mart20\" v-if=\"paperDetail\"> \r\n          <div slot=\"header\">\r\n            <span class=\"card-title\">问卷基本信息</span>\r\n          </div>\r\n          <el-row>\r\n            <el-col :span=\"12\" class=\"marb5\">问卷名称：{{paperDetail.name}}</el-col>  \r\n            <el-col :span=\"24\" class=\"marb5\">问卷要求：{{paperDetail.description}}</el-col>\r\n            <el-col :span=\"12\" class=\"mart5\">\r\n              共（{{paperDetail.questionCount ? paperDetail.questionCount : 0}}）题\r\n              <!-- 填写 -->\r\n              <!-- memberId有值，能答题，并且sheetId没有值的情况下才能答题。 --> \r\n              <el-button \r\n                v-if=\"answerSituation.memberId && !answerSituation.sheetId\"\r\n                :disabled=\"!common.checkAuthority('LessonQuestionnaireDetail_GoToAnswer', true)\"\r\n                type=\"primary\" size=\"mini\" class=\"marl10\" \r\n                @click=\" $router.push({name: 'LessonQuestionnaireScore', params: {course_id: courseId, cquestionnaire_id: cQuestionnaireId, questionnaire_id: questionnaireId} })\">\r\n                {{common.checkAuthority('LessonQuestionnaireDetail_GoToAnswer') ? common.checkAuthority('LessonQuestionnaireDetail_GoToAnswer').name : ''}}\r\n              </el-button>\r\n              <!-- 查看问卷详情 -->\r\n              <el-button \r\n                :disabled=\"!common.checkAuthority('LessonQuestionnaireDetail_CheckQuestionDetail', true)\"\r\n                type=\"primary\" size=\"mini\" @click=\"goToQuestionPage\">\r\n                {{common.checkAuthority('LessonQuestionnaireDetail_CheckQuestionDetail') ? common.checkAuthority('LessonQuestionnaireDetail_CheckQuestionDetail').name : ''}}\r\n              </el-button>\r\n            </el-col>\r\n            <el-col :span=\"12\" class=\"text-right\">\r\n              <!-- 将问卷设置为模板， 必须之前不是模板才能修改， 并且课程模板不为null，也就是当前问卷属于的课程必须是模板创建的 -->\r\n              <el-button \r\n                v-if=\"!paperDetail.template && paperDetail.courseTemplate\"\r\n                :disabled=\"!common.checkAuthority('LessonQuestionnaireDetail_Base', true)\"\r\n                type=\"primary\" @click=\" upGradeBase \">\r\n                {{common.checkAuthority('LessonQuestionnaireDetail_Base') ? common.checkAuthority('LessonQuestionnaireDetail_Base').name : ''}}\r\n              </el-button>\r\n            </el-col>\r\n          </el-row>\r\n        </el-card>\r\n        <div class=\"mart10\">\r\n          <!-- 完成任务 -->\r\n          <el-card class=\"mart20\"> \r\n            <div slot=\"header\">\r\n              <span class=\"card-title\">答题情况</span>\r\n            </div>\r\n            <el-tabs v-model=\"questionActiveName\">\r\n              <el-tab-pane label=\"已答\" name=\"1\"> \r\n                <div v-if=\"answerList.length\" class=\"person-group-item_w\" v-for=\"(item,index) in answerList\">\r\n                  <el-dropdown :hide-on-click=\"false\" placement=\"bottom-start\">\r\n                    <div class=\"img-photo-fix wh50\">\r\n                      <img :src=\"item.head_img ? item.head_img : '默认图' \" :onerror=\"defaultImg(item.sex)\" width=\"50px\" height=\"50px\" />\r\n                    </div>  \r\n                    <!-- <p class=\"person-name\" style=\"text-align: left;margin-left: 18px;\">{{item.user_name}}</p>  -->\r\n                    <el-dropdown-menu slot=\"dropdown\" > \r\n                      <el-row class=\"mar5 member-info-fix\">\r\n                        <el-col :span=\"9\">\r\n                          <p><img :src=\"item.head_img ? item.head_img : '默认图' \" :onerror=\"defaultImg(item.sex)\" width=\"100px\" height=\"100px\" /></p>\r\n                        </el-col>\r\n                        <el-col :span=\"15\"> \r\n                          <p>姓名：{{item.user_name ? item.user_name : '无'}}</p>\r\n                          <p>工/学号：{{item.account ? item.account : '无'}}</p>\r\n                          <p>手机：{{item.phone_num ? item.phone_num : '无'}}</p>\r\n                          <p>院系：{{item.facultyName ? item.facultyName : '无'}}</p>\r\n                          <p>邮箱：{{item.mail ? item.mail : '无'}}</p>\r\n                        </el-col>\r\n                      </el-row> \r\n                    </el-dropdown-menu>\r\n                  </el-dropdown> \r\n                </div>\r\n                <div v-if=\"!answerList.length\" class=\"mar10\">暂无数据</div>   \r\n              </el-tab-pane>\r\n              <el-tab-pane label=\"未答\" name=\"2\">\r\n                <div v-if=\"noAnswerList.length\" class=\"person-group-item_w\" v-for=\"(item,index) in noAnswerList\">\r\n                  <el-dropdown :hide-on-click=\"false\" placement=\"bottom-start\">\r\n                    <div class=\"img-photo-fix wh50\">\r\n                      <img :src=\"item.head_img ? item.head_img : '默认图' \" :onerror=\"defaultImg(item.sex)\" width=\"50px\" height=\"50px\" />\r\n                    </div>  \r\n                    <!-- <p class=\"person-name\" style=\"text-align: left;margin-left: 18px;\">{{item.user_name}}</p>  -->\r\n                    <el-dropdown-menu slot=\"dropdown\" > \r\n                      <el-row class=\"mar5 member-info-fix\">\r\n                        <el-col :span=\"9\">\r\n                          <p><img :src=\"item.head_img ? item.head_img : '默认图' \" :onerror=\"defaultImg(item.sex)\" width=\"100px\" height=\"100px\" /></p>\r\n                        </el-col>\r\n                        <el-col :span=\"15\"> \r\n                          <p>姓名：{{item.user_name ? item.user_name : '无'}}</p>\r\n                          <p>工/学号：{{item.account ? item.account : '无'}}</p>\r\n                          <p>手机：{{item.phone_num ? item.phone_num : '无'}}</p>\r\n                          <p>院系：{{item.facultyName ? item.facultyName : '无'}}</p>\r\n                          <p>邮箱：{{item.mail ? item.mail : '无'}}</p>\r\n                        </el-col>\r\n                      </el-row> \r\n                    </el-dropdown-menu>\r\n                  </el-dropdown> \r\n                </div>\r\n                <div v-if=\"!noAnswerList.length\" class=\"mar10\">暂无数据</div>    \r\n              </el-tab-pane> \r\n            </el-tabs>\r\n          </el-card>\r\n        </div>\r\n      </div>\r\n    </div> \r\n  </div>\r\n</template>\r\n<script>   \r\n  export default { \r\n    data () {\r\n      return {\r\n        courseId:         this.$route.params.course_id, //课程Id\r\n        cQuestionnaireId:  this.$route.params.cquestionnaire_id, //卷子基本信息Id\r\n        questionnaireId:  this.$route.params.questionnaire_id, //卷子题库Id\r\n        isLoad:           true,\r\n        paperDialog:      false, \r\n        paperDetail:      null,\r\n        questionActiveName:   '1',\r\n        answerSituation:  {memberId: null, sheetId: null},\r\n        noAnswerList:     [], //未答人员信息\r\n        answerList:       [], //已答人员信息\r\n        loginUserAccount:     sessionStorage.getItem('Access-Account'),\r\n        isPaperDialogShowClose: true,\r\n        participantId:          'default',\r\n      }\r\n    }, \r\n    computed:{\r\n    }, \r\n    mounted(){   \r\n      this.getQueryPaperDetail();\r\n      this.getQueryAnswerMember(); \r\n      this.getQueryNoAnswerMember();\r\n      this.getQueryCourseAnswerMember();\r\n    },\r\n    methods: { \r\n      /**\r\n       * 将当前实验升级为模板,必须课程也是创建的模板，才能升级实验\r\n       * @return {[type]} [description]\r\n       */\r\n      upGradeBase(){\r\n        this.axios.get(`${this.common.basePath}/course-questionnaire/upgrade`, {params: { id: this.cQuestionnaireId} }).then((response) => {\r\n          this.$message.success(response.data.meta.message);\r\n          this.getQueryPaperDetail();\r\n        }).catch((error) => {\r\n          this.$message.error(error); \r\n        }); \r\n      },   \r\n      /*\r\n       * 查询问卷基本信息\r\n       */\r\n      getQueryPaperDetail(associated_object){\r\n        this.axios.get(`${this.common.basePath}/course-questionnaire`,{params: {id: this.cQuestionnaireId}}).then((response) => { \r\n          this.paperDetail = response.data.data; \r\n        }).catch((error) => {\r\n          this.$message.error(error); \r\n        });\r\n      },\r\n      /*\r\n       * 跳转卷子详情页\r\n       */\r\n      goToQuestionPage(){ \r\n        this.$router.push({name: 'LessonQuestionnaireCheck', params: {course_id: this.courseId, cquestionnaire_id: this.cQuestionnaireId, questionnaire_id: this.questionnaireId}});\r\n       },\r\n      /*\r\n       * 关闭考卷弹框\r\n       */\r\n      closePaperDialogFun(){\r\n        this.paperDialog = false;\r\n       },\r\n      isPaperDialogShowCloseFun(val){ \r\n        this.isPaperDialogShowClose = val;\r\n       },\r\n      /*\r\n       * 已答题人员信息\r\n       */\r\n      getQueryAnswerMember(){\r\n        this.axios.get(`${this.common.basePath}/course-answer/answered/${this.cQuestionnaireId}`,'').then((response) => { \r\n          this.answerList = response.data.data;\r\n        }).catch((error) => {\r\n          this.$message.error(error); \r\n        });\r\n      },  \r\n      /*\r\n       * 未答题人员信息\r\n       */\r\n      getQueryNoAnswerMember(){\r\n        this.axios.get(`${this.common.basePath}/course-answer/no-answer/${this.cQuestionnaireId}`,'').then((response) => { \r\n          this.noAnswerList = response.data.data;\r\n        }).catch((error) => {\r\n          this.$message.error(error); \r\n        });\r\n      }, \r\n      /*\r\n       * 获取课程问卷人员答题情况的信息\r\n       */\r\n      getQueryCourseAnswerMember(){  \r\n        this.axios.get(`${this.common.basePath}/course-answer/member`, {params: {userId: JSON.parse(sessionStorage.getItem('Access-Key')), cQuestionnaireId: this.cQuestionnaireId } }).then((response) => { \r\n          this.answerSituation = response.data.data;\r\n        }).catch((error) => {\r\n          this.$message.error(error); \r\n        });\r\n      }, \r\n      /**\r\n       * 根据性别使用不同的头像\r\n       * @param  {[type]} sex [description]\r\n       * @return {[type]}     [description]\r\n       */\r\n      defaultImg(sex){ \r\n        return sex == 1 ? \r\n                'this.src=\"' + require('../../../assets/img/male.png') + '\"' : \r\n                'this.src=\"' + require('../../../assets/img/female.png') + '\"';\r\n      }, \r\n    }\r\n  }\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QuestionnaireDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QuestionnaireDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./QuestionnaireDetail.vue?vue&type=template&id=5a20fd44&\"\nimport script from \"./QuestionnaireDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./QuestionnaireDetail.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"QuestionnaireDetail.vue\"\nexport default component.exports"],"sourceRoot":""}