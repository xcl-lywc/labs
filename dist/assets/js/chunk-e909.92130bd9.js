(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e909"],{"01a2":function(t,e,a){},"0bed":function(t,e,a){"use strict";var s=a("e836"),i=a.n(s);i.a},"20c2":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.taskDetail?a("div",[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"card-title"},[t._v("习题任务基本信息")])]),a("el-row",[a("el-col",{staticClass:"marb5",attrs:{span:12}},[t._v("\n        习题名称："+t._s(t.taskDetail.name)+"\n        "),1==t.taskDetail.cur_status?a("el-button",{attrs:{disabled:!t.common.checkAuthority(t.$route.name+"_Release",!0),type:"primary",size:"mini"},on:{click:t.releaseTask}},[t._v("\n          "+t._s(t.common.checkAuthority(t.$route.name+"_Release")?t.common.checkAuthority(t.$route.name+"_Release").name:"")+"\n        ")]):t._e()],1),a("el-col",{staticClass:"marb5",attrs:{span:12}},[t._v("通过分数："+t._s(t.taskDetail.adopt_score))]),a("el-col",{staticClass:"marb5",attrs:{span:12}},[t._v("得分占比："+t._s(t.taskDetail.value))]),a("el-col",{staticClass:"marb5",attrs:{span:12}},[t._v("\n        截止时间："+t._s(t.common._convertDate(t.taskDetail.end_time,"yyyy年MM月dd日"))+" \n        "),a("el-button",{attrs:{disabled:!t.common.checkAuthority(t.$route.name+"_Delay",!0),type:"primary",size:"mini"},on:{click:function(e){t.delayDialog=!0,t.$refs.delayForm&&t.$refs.delayForm.resetFields()}}},[t._v("\n          "+t._s(t.common.checkAuthority(t.$route.name+"_Delay")?t.common.checkAuthority(t.$route.name+"_Delay").name:"")+"\n        ")])],1),a("el-col",{staticClass:"text-right",attrs:{span:24}},[!t.taskDetail.template&&t.taskDetail.experimentTemplate?a("el-button",{attrs:{disabled:!t.common.checkAuthority(t.$route.name+"_Base",!0),type:"primary"},on:{click:t.upGradeBase}},[t._v("\n          "+t._s(t.common.checkAuthority(t.$route.name+"_Base")?t.common.checkAuthority(t.$route.name+"_Base").name:"")+"\n        ")]):t._e()],1)],1)],1),t.paperDetail?a("el-card",{staticClass:"mart20"},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"card-title"},[t._v("试卷基本信息")])]),a("el-row",[a("el-col",{staticClass:"marb5",attrs:{span:12}},[t._v("试卷名称："+t._s(t.paperDetail.name))]),a("el-col",{staticClass:"marb5",attrs:{span:12}},[t._v("总分："+t._s(t.paperDetail.score)+"分")]),a("el-col",{staticClass:"marb5",attrs:{span:24}},[t._v("答题要求："+t._s(t.paperDetail.description))]),a("el-col",{staticClass:"mart5",attrs:{span:12}},[t._v("\n        共（"+t._s(t.paperDetail.question_count)+"）题\n        "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.isExistStudent&&!t.paperDetail.solution_id,expression:"isExistStudent && !paperDetail.solution_id"}],staticClass:"marl10",attrs:{disabled:!t.common.checkAuthority(t.$route.name+"_GoToAnswer",!0),type:"primary",size:"mini"},on:{click:function(e){t.paperDialog=!0}}},[t._v("\n          "+t._s(t.common.checkAuthority(t.$route.name+"_GoToAnswer")?t.common.checkAuthority(t.$route.name+"_GoToAnswer").name:"")+"\n        ")]),t.isExistStudent?t._e():a("el-button",{attrs:{disabled:!t.common.checkAuthority(t.$route.name+"_CheckQuestionDetail",!0),type:"primary",size:"mini"},on:{click:t.goToQuestionPage}},[t._v("\n          "+t._s(t.common.checkAuthority(t.$route.name+"_CheckQuestionDetail")?t.common.checkAuthority(t.$route.name+"_CheckQuestionDetail").name:"")+"\n        ")]),t.isExistStudent&&t.paperDetail.solution_id?a("el-button",{attrs:{disabled:!t.common.checkAuthority(t.$route.name+"_CheckQuestionDetail",!0),type:"primary",size:"mini"},on:{click:function(e){t.$router.push({name:"ExerciseQuestionDetail",params:{experiment_id:t.taskDetail.experiment_id,task_id:t.$route.params.task_id,solution_id:t.paperDetail.solution_id,type:"student"}})}}},[t._v("\n            "+t._s(t.common.checkAuthority(t.$route.name+"_CheckQuestionDetail")?t.common.checkAuthority(t.$route.name+"_CheckQuestionDetail").name:"")+"\n        ")]):t._e()],1)],1)],1):t._e(),t.isExistOther?a("div",[a("el-card",{staticClass:"mart20"},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"card-title"},[t._v("答题情况")])]),a("el-tabs",{staticClass:"member-box",model:{value:t.questionActiveName,callback:function(e){t.questionActiveName=e},expression:"questionActiveName"}},[a("el-tab-pane",{attrs:{label:"未交",name:"1"}},[t._l(t.answerMemberListData,function(e,s){return t.answerMemberListData.length?a("div",{staticClass:"person-group-item_w"},[a("el-dropdown",{attrs:{"hide-on-click":!1,placement:"bottom-start"}},[a("div",{staticClass:"img-photo-fix wh50"},[a("img",{attrs:{src:e.head_img?e.head_img:"默认图",onerror:t.defaultImg(e.sex),width:"50px",height:"50px"}})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("div",{staticClass:"mar20"},[a("p",[a("img",{attrs:{src:e.head_img?e.head_img:"默认图",onerror:t.defaultImg(e.sex),width:"40px",height:"40px"}})]),a("p",[t._v("姓名："+t._s(e.user_name?e.user_name:"无"))]),a("p",[t._v("工/学号："+t._s(e.account?e.account:"无"))]),a("p",[t._v("手机："+t._s(e.phone_num?e.phone_num:"无"))]),a("p",[t._v("院系："+t._s(e.facultyName?e.facultyName:"无"))]),a("p",[t._v("邮箱："+t._s(e.mail?e.mail:"无"))])])])],1)],1):t._e()}),t.answerMemberListData.length?t._e():a("div",{staticClass:"mar10"},[t._v("暂无数据")])],2),a("el-tab-pane",{attrs:{label:"已提交",name:"2"}},[t.answerMemberListData.length?a("div",[a("el-row",{staticClass:"mart20",attrs:{gutter:20}},t._l(t.answerMemberListData,function(e,s){return a("el-col",{key:s,staticClass:"answer-member-box",attrs:{span:6}},[a("el-card",[a("p",[t._v("姓名："+t._s(e.user_name))]),a("p",[t._v("答题时间："+t._s(e.answer_time)+"分钟")]),a("p",[t._v(t._s(e.score)+"分 \n                    "),a("el-button",{staticClass:"marl10",attrs:{type:"primary",size:"mini"},on:{click:function(a){t.$router.push({name:"ExerciseQuestionDetail",params:{experiment_id:t.taskDetail.experiment_id,task_id:t.$route.params.task_id,solution_id:e.solution_id,type:"student"}})}}},[t._v("查看卷子详情")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:3==e.cur_status,expression:"item.cur_status == 3"}],staticClass:"marl10",attrs:{type:"primary",size:"mini"},on:{click:function(a){t.$router.push({name:"MarkingScore",params:{experiment_id:t.$route.params.experiment_id,task_id:t.$route.params.task_id,solution_id:e.solution_id}})}}},[t._v("修改评分")])],1)])],1)}))],1):a("div",{staticClass:"mar10"},[t._v("暂无数据")])]),a("el-tab-pane",{attrs:{label:"未打分",name:"3"}},[t.answerMemberListData.length?a("div",[a("el-row",[a("el-button",{staticClass:"fl marr10",attrs:{size:"mini",type:"primary",disabled:!t.common.checkAuthority(t.$route.name+"_ExportSheet",!0)},on:{click:t.exportSheet}},[t._v("\n                "+t._s(t.common.checkAuthority(t.$route.name+"_ExportSheet")?t.common.checkAuthority(t.$route.name+"_ExportSheet").name:"")+"\n              ")]),a("upload",{staticClass:"fl marr10",attrs:{url:"/answer/import/score/"+t.$route.params.task_id,isDisabled:!t.common.checkAuthority(t.$route.name+"_ImportSheet",!0),fileTypes:["xls","xlsx"],buttonText:t.common.checkAuthority(t.$route.name+"_ImportSheet")?t.common.checkAuthority(t.$route.name+"_ImportSheet").name:""},on:{uploadSuccess:t.importSheet}}),a("el-button",{staticClass:"fl marr10",attrs:{size:"mini",type:"primary",disabled:!t.common.checkAuthority(t.$route.name+"_BatchScore",!0)},on:{click:t.batchScore}},[t._v("\n                "+t._s(t.common.checkAuthority(t.$route.name+"_BatchScore")?t.common.checkAuthority(t.$route.name+"_BatchScore").name:"")+"\n              ")])],1),a("el-row",{staticClass:"mart20",attrs:{gutter:20}},t._l(t.answerMemberListData,function(e,s){return a("el-col",{key:s,staticClass:"answer-member-box",attrs:{span:6}},[a("el-card",[a("p",[a("el-checkbox",{on:{change:function(a){t.changeCheckbox(a,e)}}},[t._v("姓名："+t._s(e.user_name))])],1),a("p",[t._v("答题时间："+t._s(e.answer_time)+"分钟")]),a("p",[t._v(t._s(e.score)+"分 \n                    "),a("el-button",{staticClass:"marl10",attrs:{type:"primary",size:"mini"},on:{click:function(a){t.$router.push({name:"MarkingScore",params:{experiment_id:t.$route.params.experiment_id,task_id:t.$route.params.task_id,solution_id:e.solution_id}})}}},[t._v("评分")])],1)])],1)}))],1):a("div",{staticClass:"mar10"},[t._v("暂无数据")])]),a("el-tab-pane",{attrs:{label:"答题结果",name:"4"}},[t.answerResult&&t.answerResult.length?a("el-card",{attrs:{shadow:"never"}},t._l(t.answerResult,function(e,s){return a("div",{key:s,staticClass:"questions-box mart5"},[a("div",[t._v(t._s(s+1)+"、")]),a("el-card",{staticClass:"questions-content",attrs:{shadow:"never"}},[a("el-row",{staticClass:"mard10"},[a("el-col",{staticClass:"div-flex",attrs:{span:18}},[a("div",{staticClass:"label-2 label marr5"},[t._v("题干:"+t._s(e.question))])]),a("el-col",{attrs:{span:18}},t._l(e.optionList,function(s,i){return a("div",{key:i,staticClass:"div-flex mart10 flex-align-items"},[a("div",{staticClass:"label-2 label marr5"},[a("el-radio",{directives:[{name:"show",rawName:"v-show",value:1==e.type||3==e.type,expression:"item.type == 1 || item.type == 3"}],staticClass:"marl5",attrs:{disabled:"",label:"true"}},[t._v("选项"+t._s(i+1)+"："+t._s(s.name))]),a("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:2==e.type,expression:"item.type == 2"}],staticClass:"marl5",attrs:{disabled:"","true-label":"true","false-label":"false"}},[t._v("选项"+t._s(i+1)+"："+t._s(s.name))])],1)])})),a("el-col",{attrs:{span:6}},[a("div",{ref:"myChart",refInFor:!0,style:{width:"300px",height:"200px"},attrs:{id:"myChart"+s}})])],1)],1)],1)})):a("div",{staticClass:"mar10"},[t._v("暂无数据")])],1)],1)],1)],1):t._e(),a("el-dialog",{attrs:{width:"70vw",title:"开始答题",closeOnClickModal:!1,showClose:t.isPaperDialogShowClose,visible:t.paperDialog},on:{"update:visible":function(e){t.paperDialog=e}}},[t.paperDetail?a("exercises-respondence",{attrs:{paperId:t.paperDetail.id,taskId:t.$route.params.task_id},on:{isPaperDialogShowClose:t.isPaperDialogShowCloseFun,closePaperDialog:t.closePaperDialogFun}}):t._e(),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.paperDialog=!1}}},[t._v("取 消")])],1)],1),a("el-dialog",{attrs:{width:"500px",title:"延期",closeOnClickModal:!1,visible:t.delayDialog},on:{"update:visible":function(e){t.delayDialog=e}}},[t.taskDetail?a("div",[a("el-form",{ref:"delayForm",attrs:{model:t.delayForm,"label-width":"80px"}},[a("el-form-item",{attrs:{prop:"end_time",label:"时间",rules:[{required:!0,message:"请选择日期",trigger:"blur"}]}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:t.delayForm.end_time,callback:function(e){t.$set(t.delayForm,"end_time",e)},expression:"delayForm.end_time"}})],1)],1)],1):t._e(),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.submitDelayTask("delayForm")}}},[t._v("提交")]),a("el-button",{on:{click:function(e){t.delayDialog=!1}}},[t._v("取 消")])],1)])],1):t._e()},i=[],n=(a("7f7f"),a("ac6a"),a("d443")),o=a("92cf"),r={data:function(){return{isExistStudent:!1,isExistOther:!1,paperDialog:!1,delayDialog:!1,ids:[],taskDetail:null,paperDetail:null,isLoad:!0,questionActiveName:"1",answerMemberListData:[],loginUserId:sessionStorage.getItem("access_key"),isPaperDialogShowClose:!0,delayForm:{end_time:null},answerResult:null}},components:{"exercises-respondence":o["a"],upload:n["a"]},computed:{},watch:{questionActiveName:function(t){var e=this;4!=t?this.getQueryAnswerMember(t):this.$nextTick(function(){e.answerResult.forEach(function(t,a){var s=[];t.optionList.forEach(function(t){s.push({value:t.total,name:t.name})}),e.pieChart("myChart".concat(a),s)})})}},mounted:function(){this.getQueryTaskDetail(),this.getQueryAnswerMember(this.questionActiveName),this.loginAccountIsRole()},methods:{upGradeBase:function(){var t=this;this.axios.get("".concat(this.common.basePath,"/baseTask/upgrade"),{params:{taskID:this.$route.params.task_id}}).then(function(e){t.$message.success(e.data.meta.message),t.getQueryTaskDetail()}).catch(function(e){t.$message.error(e)})},defaultImg:function(t){return 1==t?'this.src="'+a("e93b")+'"':'this.src="'+a("e0a3")+'"'},getQueryTaskDetail:function(){var t=this;this.axios.get("".concat(this.common.basePath,"/task/").concat(this.$route.params.task_id),"").then(function(e){t.taskDetail=e.data.data,t.isLoad=!1,t.getQueryPaperDetail(e.data.data.associated_object),t.getQueryAnswerResult(e.data.data.associated_object)}).catch(function(e){t.$message.error(e),t.isLoad=!1})},getQueryPaperDetail:function(t){var e=this;this.axios.get("".concat(this.common.basePath,"/paper/simple/").concat(t,"?taskId=").concat(this.$route.params.task_id),"").then(function(t){e.paperDetail=t.data.data}).catch(function(t){e.$message.error(t)})},getQueryAnswerResult:function(t){var e=this;this.axios.get("".concat(this.common.basePath,"/question/total"),{params:{paperId:t,taskId:this.$route.params.task_id}}).then(function(t){e.answerResult=t.data.data}).catch(function(t){e.$message.error(t)})},goToQuestionPage:function(){this.$router.push({name:"TestPaper",params:{experiment_id:this.taskDetail.experiment_id,task_id:this.$route.params.task_id,associated_object:this.taskDetail.associated_object}})},closePaperDialogFun:function(){this.paperDialog=!1,this.getQueryPaperDetail(this.taskDetail.associated_object)},isPaperDialogShowCloseFun:function(t){this.isPaperDialogShowClose=t},getQueryAnswerMember:function(t){var e=this;this.answerMemberListData=[],this.axios.get("".concat(this.common.basePath,"/answer/member/").concat(this.$route.params.task_id),{params:{type:t}}).then(function(t){e.answerMemberListData=t.data.data}).catch(function(t){e.$message.error(t)})},releaseTask:function(){var t=this;this.axios.get("".concat(this.common.basePath,"/task/release/").concat(this.$route.params.task_id),"").then(function(e){t.$message.success(e.data.meta.message),t.getQueryTaskDetail()}).catch(function(e){t.$message.error(e)})},submitDelayTask:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.axios.patch("".concat(e.common.basePath,"/task/").concat(e.$route.params.task_id),e.delayForm).then(function(t){e.getQueryTaskDetail(),e.delayDialog=!1}).catch(function(t){e.delayDialog=!1,e.$message.error(t)})})},pieChart:function(t,e){var a=this.echarts.init(document.getElementById(t)),s={title:{subtext:"纯属虚构",x:"center",show:!1},tooltip:{trigger:"item",formatter:" 标题：{b}<br/> 选中数：{c}个 <br/> 占比：{d}%"},legend:{orient:"vertical",left:"right",show:!1},series:[{name:"详情：",type:"pie",radius:"75%",center:["40%","45%"],data:e,label:{normal:{show:!1,position:"inner"},emphasis:{show:!1,textStyle:{fontSize:"12",fontWeight:"bold"}}}}]};a.setOption(s)},exportSheet:function(){var t=this;this.axios.get("".concat(this.common.basePath,"/answer/export/score/").concat(this.$route.params.task_id),{responseType:"blob"}).then(function(e){t.common._fileBold(e),t.$message.success("下载成功")}).catch(function(e){t.$message.error(e)})},importSheet:function(t){this.$message.success("上传成功"),this.getQueryAnswerMember(this.questionActiveName)},loginAccountIsRole:function(){var t=this;this.axios.get("".concat(this.common.basePath,"/participant/type"),{params:{experiment_id:this.$route.params.experiment_id}}).then(function(e){e.data.data&&e.data.data.forEach(function(e){"3"==e?t.isExistStudent=!0:t.isExistOther=!0})}).catch(function(e){t.$message.error(e)})},changeCheckbox:function(t,e){t?this.ids.push(e.solution_id):this._deleteIds(e)},_deleteIds:function(t){var e=this;this.ids.forEach(function(a,s){a==t.solution_id&&e.ids.splice(s,1)})},batchScore:function(){var t=this;if(!this.ids.length)return this.$message("你还没有勾选数据"),!1;this.axios.post("".concat(this.common.basePath,"/answer/batch/score/end"),this.ids).then(function(e){t.getQueryAnswerMember(t.questionActiveName),t.$message.success(e.data.meta.message)}).catch(function(e){t.$message.error(e)})}}},c=r,l=(a("e696"),a("2877")),u=Object(l["a"])(c,s,i,!1,null,null,null);u.options.__file="ExerciseTaskDetailCom.vue";e["a"]=u.exports},"28a5":function(t,e,a){a("214f")("split",2,function(t,e,s){"use strict";var i=a("aae3"),n=s,o=[].push,r="split",c="length",l="lastIndex";if("c"=="abbc"[r](/(b)*/)[1]||4!="test"[r](/(?:)/,-1)[c]||2!="ab"[r](/(?:ab)*/)[c]||4!="."[r](/(.?)(.?)/)[c]||"."[r](/()()/)[c]>1||""[r](/.?/)[c]){var u=void 0===/()??/.exec("")[1];s=function(t,e){var a=String(this);if(void 0===t&&0===e)return[];if(!i(t))return n.call(a,t,e);var s,r,m,h,p,d=[],_=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),v=0,f=void 0===e?4294967295:e>>>0,g=new RegExp(t.source,_+"g");u||(s=new RegExp("^"+g.source+"$(?!\\s)",_));while(r=g.exec(a)){if(m=r.index+r[0][c],m>v&&(d.push(a.slice(v,r.index)),!u&&r[c]>1&&r[0].replace(s,function(){for(p=1;p<arguments[c]-2;p++)void 0===arguments[p]&&(r[p]=void 0)}),r[c]>1&&r.index<a[c]&&o.apply(d,r.slice(1)),h=r[0][c],v=m,d[c]>=f))break;g[l]===r.index&&g[l]++}return v===a[c]?!h&&g.test("")||d.push(""):d.push(a.slice(v)),d[c]>f?d.slice(0,f):d}}else"0"[r](void 0,0)[c]&&(s=function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)});return[function(a,i){var n=t(this),o=void 0==a?void 0:a[e];return void 0!==o?o.call(a,n,i):s.call(String(n),a,i)},s]})},"92cf":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.paperItem?a("div",{staticClass:"router-view-content"},[a("h3",{staticClass:"text-center"},[t._v(t._s(t.paperItem.name))]),a("hr"),a("el-row",{staticClass:"mard10"},[a("el-col",{attrs:{span:8}},[a("div",[t._v("答题时间："+t._s(t.paperItem.exam_time)+"分钟")])]),a("el-col",{attrs:{span:8}},[a("div",[t._v("总分："+t._s(t.paperItem.score)+"分")])]),a("el-col",{attrs:{span:8}},[a("div",[t._v("剩余时间："+t._s(t.countDownTime))])]),t.paperItem.description?a("el-col",{staticClass:"mart10 marb10",attrs:{span:24}},[a("el-alert",{attrs:{closable:!1,title:t.paperItem.description,type:"info"}})],1):t._e(),a("el-col",{staticClass:"text-right mart10",attrs:{span:24}},[t.isStartAnswerQuestion?t._e():a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.startAnswer}},[t._v("开始答题")]),t.isStartAnswerQuestion?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.advanceSubmit}},[t._v("提前交卷")]):t._e()],1)],1),t.questionItem?a("el-card",{staticClass:"questions-content",attrs:{shadow:"never"}},[a("el-row",{staticClass:"mard10"},[a("el-col",{staticClass:"div-flex",attrs:{span:18}},[a("div",[t._v(t._s(t.questionIndex+1)+"、"+t._s(t.questionItem.question)+"（"+t._s(t.questionItem.score)+"分）")])]),a("el-col",{staticClass:"text-right question-type",attrs:{span:4}},[t._v("\n        "+t._s(t.numMatchingText(t.questionItem.type))+"\n      ")]),a("el-col",{attrs:{span:24}},[t._l(t.questionItem.options,function(e,s){return a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isDelete,expression:"!itemOption.isDelete"}],key:s,staticClass:"div-flex mart10 flex-align-items",staticStyle:{"margin-left":"10px"}},[a("el-radio",{directives:[{name:"show",rawName:"v-show",value:1==t.questionItem.type||3==t.questionItem.type,expression:"questionItem.type == 1 || questionItem.type == 3"}],staticClass:"marl5",attrs:{label:"true"},on:{change:function(e){t.changeRadioRightKey(t.questionItem,s)}},model:{value:e.answer,callback:function(a){t.$set(e,"answer",a)},expression:"itemOption.answer"}},[t._v("选项"+t._s(s+1)+"："+t._s(e.name))]),a("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:2==t.questionItem.type,expression:"questionItem.type == 2"}],staticClass:"marl5",attrs:{"true-label":"true","false-label":"false"},model:{value:e.answer,callback:function(a){t.$set(e,"answer",a)},expression:"itemOption.answer"}},[t._v("选项"+t._s(s+1)+"："+t._s(e.name))])],1)}),a("div",{staticClass:"mart10 marb10"},[4==t.questionItem.type?a("el-input",{attrs:{rows:10,type:"textarea"},model:{value:t.questionItem.textAnswer,callback:function(e){t.$set(t.questionItem,"textAnswer",e)},expression:"questionItem.textAnswer"}}):t._e()],1)],2)],1),a("div",{staticClass:"text-right mart10"},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.questionIndex>0,expression:"questionIndex > 0"}],attrs:{type:"primary"},on:{click:function(e){t.questionIndex--,t.getQueryQuestionDetail(t.questionIndex)}}},[t._v("上一题")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.saveAnswer()}}},[t._v("确定")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.questionIndex+1<t.questionIdList.length,expression:" (questionIndex + 1) < questionIdList.length "}],attrs:{type:"primary"},on:{click:function(e){t.questionIndex++,t.getQueryQuestionDetail(t.questionIndex)}}},[t._v("下一题")])],1)],1):t._e(),a("el-card",[a("p",{staticClass:"mar10"},[a("i",{staticClass:"color-box blue"}),t._v("为未打题，\n      "),a("i",{staticClass:"color-box orange"}),t._v("为已答题\n    ")]),t._l(t.questionIdList,function(e,s){return a("el-button",{key:s,staticClass:"question-btn",attrs:{type:e.answer_id?"warning":"primary",disabled:t.questionIdList[t.questionIndex].question_id==e.question_id},on:{click:function(e){t.questionIndex=s,t.getQueryQuestionDetail(t.questionIndex)}}},[t._v("第"+t._s(s+1)+"题")])})],2)],1):t._e()},i=[],n=(a("28a5"),a("ac6a"),{props:["paperId","taskId"],data:function(){return{paperItem:null,questionItem:null,solutionId:null,questionIdList:[],countDownTime:0,questionIndex:0,isStartAnswerQuestion:!1,setIntervalTemp:null}},mounted:function(){this.getQueryTaskDetail()},methods:{getQueryTaskDetail:function(){var t=this;this.axios.get("".concat(this.common.basePath,"/paper/simple/").concat(this.paperId,"?taskId=").concat(this.taskId),"").then(function(e){t.paperItem=e.data.data}).catch(function(e){t.$message.error(e)})},changeRadioRightKey:function(t,e){t.options.forEach(function(t,a){t.answer=a!=e?"false":"true"})},numMatchingText:function(t){switch(t){case 1:return this.questionTypeText="单选题";case 2:return this.questionTypeText="多选题";case 3:return this.questionTypeText="判断题";case 4:return this.questionTypeText="简答题"}},startAnswer:function(){var t=this;this.$confirm("确认开始答题？","提示",{confirmButtonText:"答题",cancelButtonText:"不答题",type:"warning"}).then(function(){t._startAnswer()}).catch(function(){})},_startAnswer:function(){var t=this;this.axios.get("".concat(this.common.basePath,"/answer/start/").concat(this.taskId),"").then(function(e){t.$emit("isPaperDialogShowClose",!1),t.solutionId=e.data.data,t.getQueryQuestionIdListData(),t._countDownTime(),t.isStartAnswerQuestion=!0}).catch(function(e){t.$message.error(e)})},getQueryQuestionIdListData:function(){var t=this;this.axios.get("".concat(this.common.basePath,"/question/paper/").concat(this.paperId,"/").concat(this.solutionId),"").then(function(e){t.questionIdList=e.data.data,t.getQueryQuestionDetail(t.questionIndex)}).catch(function(e){t.$message.error(e)})},getQueryQuestionDetail:function(t){var e=this;this.axios.get("".concat(this.common.basePath,"/question/detail/").concat(this.solutionId),{params:{questionId:this.questionIdList[t].question_id}}).then(function(t){e._convertAnswer(t.data.data)}).catch(function(t){e.$message.error(t)})},_convertAnswer:function(t){if(4==t.type)t.answer&&(t.textAnswer=t.answer.answer);else{var e=[];t.answer&&t.answer.answer&&(e=t.answer.answer.split(",")),t.options.forEach(function(t){e.forEach(function(e){t.id==e&&(t.answer="true")})})}this.questionItem=t},_countDownTime:function(){var t=this;this.setIntervalTemp&&clearInterval(this.setIntervalTemp);var e=60*parseInt(this.paperItem.exam_time);this.countDownTime="".concat(parseInt(e/60),"分"),this.setIntervalTemp=setInterval(function(){e--,t.countDownTime="".concat(parseInt(e/60),"分").concat(e-60*parseInt(e/60),"秒"),e<=0&&(clearInterval(t.setIntervalTemp),t.$alert("考试时间结束，点击确认按钮，退出此页面！！！！","提示",{confirmButtonText:"确定",callback:function(e){t._submitPaper(),t.$emit("closePaperDialog")}}))},1e3)},saveAnswer:function(){var t=this;this.axios.post("".concat(this.common.basePath,"/answer"),this._saveAnswerParams()).then(function(e){t.questionIndex+1<t.questionIdList.length?t.questionIndex++:t.$message("已答完最后一题！！！"),t.getQueryQuestionIdListData()}).catch(function(e){t.$message.error(e)})},_saveAnswerParams:function(){var t="";return 4==this.questionItem.type?t=this.questionItem.textAnswer:(this.questionItem.options.forEach(function(e){"true"==e.answer&&(t+=e.id+",")}),t=t.substring(0,t.length-1)),{solution_id:this.solutionId,question_id:this.questionItem.id,answer:t,id:this.questionItem.answer?this.questionItem.answer.id:null}},advanceSubmit:function(t){var e=this;clearInterval(this.setIntervalTemp),t&&this.$confirm("提前交卷，将不能再答题，确定吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e._submitPaper()}).catch(function(){})},_submitPaper:function(){var t=this;this.axios.get("".concat(this.common.basePath,"/answer/complete/").concat(this.solutionId),"").then(function(e){t.$emit("closePaperDialog")}).catch(function(e){t.$message.error(e)})}}}),o=n,r=(a("0bed"),a("2877")),c=Object(r["a"])(o,s,i,!1,null,null,null);c.options.__file="ExercisesRespondence.vue";e["a"]=c.exports},e696:function(t,e,a){"use strict";var s=a("01a2"),i=a.n(s);i.a},e836:function(t,e,a){}}]);
//# sourceMappingURL=chunk-e909.92130bd9.js.map