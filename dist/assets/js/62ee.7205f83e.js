(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["62ee"],{"62ee":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"content-wrap-box"},[s("el-card",{staticClass:"title-card"},[s("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[s("el-breadcrumb-item",{attrs:{to:{path:"/lesson/list"}}},[e._v("课程列表")]),s("el-breadcrumb-item",{attrs:{to:{name:"LessonListDetail",params:{id:e.courseId}}}},[e._v("课程详情")]),s("el-breadcrumb-item",[e._v("课程问卷详情")])],1)],1),s("div",{staticClass:"router-view-wrap transparent-bg"},[s("div",{staticClass:"router-view-content task-detail"},[e.paperDetail?s("el-card",{staticClass:"mart20"},[s("div",{attrs:{slot:"header"},slot:"header"},[s("span",{staticClass:"card-title"},[e._v("问卷基本信息")])]),s("el-row",[s("el-col",{staticClass:"marb5",attrs:{span:12}},[e._v("问卷名称："+e._s(e.paperDetail.name))]),s("el-col",{staticClass:"marb5",attrs:{span:24}},[e._v("问卷要求："+e._s(e.paperDetail.description))]),s("el-col",{staticClass:"mart5",attrs:{span:12}},[e._v("\n            共（"+e._s(e.paperDetail.questionCount?e.paperDetail.questionCount:0)+"）题\n            "),e.answerSituation.memberId&&!e.answerSituation.sheetId?s("el-button",{staticClass:"marl10",attrs:{disabled:!e.common.checkAuthority("LessonQuestionnaireDetail_GoToAnswer",!0),type:"primary",size:"mini"},on:{click:function(t){e.$router.push({name:"LessonQuestionnaireScore",params:{course_id:e.courseId,cquestionnaire_id:e.cQuestionnaireId,questionnaire_id:e.questionnaireId}})}}},[e._v("\n              "+e._s(e.common.checkAuthority("LessonQuestionnaireDetail_GoToAnswer")?e.common.checkAuthority("LessonQuestionnaireDetail_GoToAnswer").name:"")+"\n            ")]):e._e(),s("el-button",{attrs:{disabled:!e.common.checkAuthority("LessonQuestionnaireDetail_CheckQuestionDetail",!0),type:"primary",size:"mini"},on:{click:e.goToQuestionPage}},[e._v("\n              "+e._s(e.common.checkAuthority("LessonQuestionnaireDetail_CheckQuestionDetail")?e.common.checkAuthority("LessonQuestionnaireDetail_CheckQuestionDetail").name:"")+"\n            ")])],1),s("el-col",{staticClass:"text-right",attrs:{span:12}},[!e.paperDetail.template&&e.paperDetail.courseTemplate?s("el-button",{attrs:{disabled:!e.common.checkAuthority("LessonQuestionnaireDetail_Base",!0),type:"primary"},on:{click:e.upGradeBase}},[e._v("\n              "+e._s(e.common.checkAuthority("LessonQuestionnaireDetail_Base")?e.common.checkAuthority("LessonQuestionnaireDetail_Base").name:"")+"\n            ")]):e._e()],1)],1)],1):e._e(),s("div",{staticClass:"mart10"},[s("el-card",{staticClass:"mart20"},[s("div",{attrs:{slot:"header"},slot:"header"},[s("span",{staticClass:"card-title"},[e._v("答题情况")])]),s("el-tabs",{model:{value:e.questionActiveName,callback:function(t){e.questionActiveName=t},expression:"questionActiveName"}},[s("el-tab-pane",{attrs:{label:"已答",name:"1"}},[e._l(e.answerList,function(t,a){return e.answerList.length?s("div",{staticClass:"person-group-item_w"},[s("el-dropdown",{attrs:{"hide-on-click":!1,placement:"bottom-start"}},[s("div",{staticClass:"img-photo-fix wh50"},[s("img",{attrs:{src:t.head_img?t.head_img:"默认图",onerror:e.defaultImg(t.sex),width:"50px",height:"50px"}})]),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-row",{staticClass:"mar5 member-info-fix"},[s("el-col",{attrs:{span:9}},[s("p",[s("img",{attrs:{src:t.head_img?t.head_img:"默认图",onerror:e.defaultImg(t.sex),width:"100px",height:"100px"}})])]),s("el-col",{attrs:{span:15}},[s("p",[e._v("姓名："+e._s(t.user_name?t.user_name:"无"))]),s("p",[e._v("工/学号："+e._s(t.account?t.account:"无"))]),s("p",[e._v("手机："+e._s(t.phone_num?t.phone_num:"无"))]),s("p",[e._v("院系："+e._s(t.facultyName?t.facultyName:"无"))]),s("p",[e._v("邮箱："+e._s(t.mail?t.mail:"无"))])])],1)],1)],1)],1):e._e()}),e.answerList.length?e._e():s("div",{staticClass:"mar10"},[e._v("暂无数据")])],2),s("el-tab-pane",{attrs:{label:"未答",name:"2"}},[e._l(e.noAnswerList,function(t,a){return e.noAnswerList.length?s("div",{staticClass:"person-group-item_w"},[s("el-dropdown",{attrs:{"hide-on-click":!1,placement:"bottom-start"}},[s("div",{staticClass:"img-photo-fix wh50"},[s("img",{attrs:{src:t.head_img?t.head_img:"默认图",onerror:e.defaultImg(t.sex),width:"50px",height:"50px"}})]),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-row",{staticClass:"mar5 member-info-fix"},[s("el-col",{attrs:{span:9}},[s("p",[s("img",{attrs:{src:t.head_img?t.head_img:"默认图",onerror:e.defaultImg(t.sex),width:"100px",height:"100px"}})])]),s("el-col",{attrs:{span:15}},[s("p",[e._v("姓名："+e._s(t.user_name?t.user_name:"无"))]),s("p",[e._v("工/学号："+e._s(t.account?t.account:"无"))]),s("p",[e._v("手机："+e._s(t.phone_num?t.phone_num:"无"))]),s("p",[e._v("院系："+e._s(t.facultyName?t.facultyName:"无"))]),s("p",[e._v("邮箱："+e._s(t.mail?t.mail:"无"))])])],1)],1)],1)],1):e._e()}),e.noAnswerList.length?e._e():s("div",{staticClass:"mar10"},[e._v("暂无数据")])],2)],1)],1)],1)],1)])],1)},i=[],n={data:function(){return{courseId:this.$route.params.course_id,cQuestionnaireId:this.$route.params.cquestionnaire_id,questionnaireId:this.$route.params.questionnaire_id,isLoad:!0,paperDialog:!1,paperDetail:null,questionActiveName:"1",answerSituation:{memberId:null,sheetId:null},noAnswerList:[],answerList:[],loginUserAccount:sessionStorage.getItem("Access-Account"),isPaperDialogShowClose:!0,participantId:"default"}},computed:{},mounted:function(){this.getQueryPaperDetail(),this.getQueryAnswerMember(),this.getQueryNoAnswerMember(),this.getQueryCourseAnswerMember()},methods:{upGradeBase:function(){var e=this;this.axios.get("".concat(this.common.basePath,"/course-questionnaire/upgrade"),{params:{id:this.cQuestionnaireId}}).then(function(t){e.$message.success(t.data.meta.message),e.getQueryPaperDetail()}).catch(function(t){e.$message.error(t)})},getQueryPaperDetail:function(e){var t=this;this.axios.get("".concat(this.common.basePath,"/course-questionnaire"),{params:{id:this.cQuestionnaireId}}).then(function(e){t.paperDetail=e.data.data}).catch(function(e){t.$message.error(e)})},goToQuestionPage:function(){this.$router.push({name:"LessonQuestionnaireCheck",params:{course_id:this.courseId,cquestionnaire_id:this.cQuestionnaireId,questionnaire_id:this.questionnaireId}})},closePaperDialogFun:function(){this.paperDialog=!1},isPaperDialogShowCloseFun:function(e){this.isPaperDialogShowClose=e},getQueryAnswerMember:function(){var e=this;this.axios.get("".concat(this.common.basePath,"/course-answer/answered/").concat(this.cQuestionnaireId),"").then(function(t){e.answerList=t.data.data}).catch(function(t){e.$message.error(t)})},getQueryNoAnswerMember:function(){var e=this;this.axios.get("".concat(this.common.basePath,"/course-answer/no-answer/").concat(this.cQuestionnaireId),"").then(function(t){e.noAnswerList=t.data.data}).catch(function(t){e.$message.error(t)})},getQueryCourseAnswerMember:function(){var e=this;this.axios.get("".concat(this.common.basePath,"/course-answer/member"),{params:{userId:JSON.parse(sessionStorage.getItem("Access-Key")),cQuestionnaireId:this.cQuestionnaireId}}).then(function(t){e.answerSituation=t.data.data}).catch(function(t){e.$message.error(t)})},defaultImg:function(e){return 1==e?'this.src="'+s("e93b")+'"':'this.src="'+s("e0a3")+'"'}}},r=n,o=s("2877"),c=Object(o["a"])(r,a,i,!1,null,null,null);c.options.__file="QuestionnaireDetail.vue";t["default"]=c.exports}}]);
//# sourceMappingURL=62ee.7205f83e.js.map