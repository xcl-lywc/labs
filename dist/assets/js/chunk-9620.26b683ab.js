(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9620"],{"33ef":function(t,e,a){},c794:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-wrap-box"},[t.taskDetail?a("el-card",{staticClass:"title-card"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/lesson/testlist"}}},[t._v("实验列表")]),a("el-breadcrumb-item",{attrs:{to:{name:"TestDetail",params:{id:t.taskDetail.experiment_id}}}},[t._v("实验详情")]),a("el-breadcrumb-item",[t._v("问卷任务详情")])],1)],1):t._e(),a("div",{staticClass:"router-view-wrap transparent-bg"},[a("div",{staticClass:"router-view-content task-detail"},[a("questionnaire-taskdetailcom")],1)])],1)},i=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.taskDetail?a("div",{staticClass:"router-view-content task-detail"},[a("el-card",[a("el-row",[a("el-col",{staticClass:"marb5",attrs:{span:12}},[t._v("\n        任务名称："+t._s(t.taskDetail.name)+"\n        "),1==t.taskDetail.cur_status?a("el-button",{attrs:{disabled:!t.common.checkAuthority("QuestionnaireTaskDetail_Release",!0),type:"primary",size:"mini"},on:{click:t.releaseTask}},[t._v("\n          "+t._s(t.common.checkAuthority("QuestionnaireTaskDetail_Release")?t.common.checkAuthority("QuestionnaireTaskDetail_Release").name:"")+"\n        ")]):t._e(),!t.taskDetail.template&&t.taskDetail.experimentTemplate?a("el-button",{attrs:{disabled:!t.common.checkAuthority("QuestionnaireTaskDetail_Base",!0),type:"primary",size:"mini"},on:{click:t.upGradeBase}},[t._v("\n          "+t._s(t.common.checkAuthority("QuestionnaireTaskDetail_Base")?t.common.checkAuthority("QuestionnaireTaskDetail_Base").name:"")+"\n        ")]):t._e()],1)],1)],1),t.paperDetail?a("el-card",{staticClass:"mart20"},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"card-title"},[t._v("问卷基本信息")])]),a("el-row",[a("el-col",{staticClass:"marb5",attrs:{span:12}},[t._v("问卷名称："+t._s(t.paperDetail.name))]),a("el-col",{staticClass:"marb5",attrs:{span:12}},[t._v("问卷类型："+t._s(t.questionaireType(t.paperDetail.type)))]),a("el-col",{staticClass:"marb5",attrs:{span:24}},[t._v("问卷要求："+t._s(t.paperDetail.description))]),a("el-col",{staticClass:"mart5",attrs:{span:12}},[t._v("\n        共（"+t._s(t.paperDetail.questionCount)+"）题\n        "),t.answerMemberListData&&t.answerMemberListData.length?a("el-button",{staticClass:"marl10",attrs:{disabled:!t.common.checkAuthority("QuestionnaireTaskDetail_GoToAnswer",!0),type:"primary",size:"mini"},on:{click:function(e){t.$router.push({name:"QuestionnaireScore",params:{experiment_id:t.taskDetail.experiment_id,questionnaire_id:t.paperDetail.id,task_id:t.$route.params.id}})}}},[t._v("\n          "+t._s(t.common.checkAuthority("QuestionnaireTaskDetail_GoToAnswer")?t.common.checkAuthority("QuestionnaireTaskDetail_GoToAnswer").name:"")+"\n        ")]):t._e(),a("el-button",{attrs:{disabled:!t.common.checkAuthority("QuestionnaireTaskDetail_CheckQuestionDetail",!0),type:"primary",size:"mini"},on:{click:t.goToQuestionPage}},[t._v("\n          "+t._s(t.common.checkAuthority("QuestionnaireTaskDetail_CheckQuestionDetail")?t.common.checkAuthority("QuestionnaireTaskDetail_CheckQuestionDetail").name:"")+"\n        ")])],1)],1)],1):t._e(),a("div",{staticClass:"mart10"},[a("div",{staticClass:"marb10"},[a("el-radio-group",{model:{value:t.participantId,callback:function(e){t.participantId=e},expression:"participantId"}},t._l(t.answerMemberListData,function(e,s){return a("el-radio-button",{attrs:{label:e.id}},[t._v(t._s(e.user_name))])}))],1),a("el-card",{staticClass:"mart5"},[a("el-tabs",{model:{value:t.questionActiveName,callback:function(e){t.questionActiveName=e},expression:"questionActiveName"}},[a("el-tab-pane",{attrs:{label:"统计图（待开发）",name:"1"}}),a("el-tab-pane",{attrs:{label:"分布图（待开发）",name:"2"}}),a("el-tab-pane",{attrs:{label:"明细表（待开发）",name:"3"}})],1)],1)],1)],1):t._e()},r=[],o={data:function(){return{paperDialog:!1,taskDetail:null,paperDetail:null,isLoad:!0,questionActiveName:"1",answerMemberListData:[],loginUserAccount:sessionStorage.getItem("Access-Account"),isPaperDialogShowClose:!0,participantId:"default"}},computed:{},mounted:function(){this.getQueryTaskDetail(),this.getQueryAnswerMember()},methods:{upGradeBase:function(){var t=this;this.axios.get("".concat(this.common.basePath,"/baseTask/upgrade"),{params:{taskID:this.$route.params.id}}).then(function(e){t.$message.success(e.data.meta.message),t.getQueryTaskDetail()}).catch(function(e){t.$message.error(e)})},questionaireType:function(t){switch(t){case 1:return"评价教学";case 2:return"互评";case 3:return"自评"}},getQueryTaskDetail:function(){var t=this;this.axios.get("".concat(this.common.basePath,"/task/").concat(this.$route.params.id),"").then(function(e){t.taskDetail=e.data.data,t.isLoad=!1,t.getQueryPaperDetail(e.data.data.associated_object)}).catch(function(e){t.$message.error(e),t.isLoad=!1})},getQueryPaperDetail:function(t){var e=this;this.axios.get("".concat(this.common.basePath,"/questionnaire/").concat(t),"").then(function(t){e.paperDetail=t.data.data}).catch(function(t){e.$message.error(t)})},goToQuestionPage:function(){this.$router.push({name:"QuestionnaireCheck",params:{experiment_id:this.taskDetail.experiment_id,questionnaire_id:this.paperDetail.id,task_id:this.$route.params.id}})},closePaperDialogFun:function(){this.paperDialog=!1},isPaperDialogShowCloseFun:function(t){this.isPaperDialogShowClose=t},getQueryAnswerMember:function(){var t=this;this.axios.get("".concat(this.common.basePath,"/qanswer/member/").concat(this.$route.params.id),"").then(function(e){t.answerMemberListData=e.data.data,"default"==t.participantId&&(t.participantId=e.data.data?e.data.data[0].id:"")}).catch(function(e){t.$message.error(e)})},releaseTask:function(){var t=this;this.axios.get("".concat(this.common.basePath,"/task/release/").concat(this.$route.params.id),"").then(function(e){t.$message.success(e.data.meta.message),t.getQueryTaskDetail()}).catch(function(e){t.$message.error(e)})}}},c=o,l=(a("c7f8"),a("2877")),u=Object(l["a"])(c,n,r,!1,null,null,null);u.options.__file="QuestionnaireTaskDetailCom.vue";var m=u.exports,p={data:function(){return{taskDetail:null}},components:{"questionnaire-taskdetailcom":m},computed:{},mounted:function(){this.getQueryTaskDetail()},methods:{getQueryTaskDetail:function(){var t=this;this.axios.get("".concat(this.common.basePath,"/task/").concat(this.$route.params.id),"").then(function(e){t.taskDetail=e.data.data}).catch(function(e){t.$message.error(e)})}}},d=p,h=Object(l["a"])(d,s,i,!1,null,null,null);h.options.__file="QuestionnaireTaskDetail.vue";e["default"]=h.exports},c7f8:function(t,e,a){"use strict";var s=a("33ef"),i=a.n(s);i.a}}]);
//# sourceMappingURL=chunk-9620.26b683ab.js.map